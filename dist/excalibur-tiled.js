/*! For license information please see excalibur-tiled.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(function(){try{return require("jsdom")}catch(e){}}(),require("excalibur")):"function"==typeof define&&define.amd?define(["jsdom","excalibur"],t):"object"==typeof exports?exports.ex=t(function(){try{return require("jsdom")}catch(e){}}(),require("excalibur")):(e.ex=e.ex||{},e.ex.Plugin=e.ex.Plugin||{},e.ex.Plugin.Tiled=t(e.jsdom,e.ex))}(self,((e,t)=>(()=>{var i={"./node_modules/compare-versions/lib/esm/compare.js":(e,t,i)=>{"use strict";i.r(t),i.d(t,{compare:()=>s});var A=i("./node_modules/compare-versions/lib/esm/compareVersions.js");const s=(e,t,i)=>{o(i);const s=(0,A.compareVersions)(e,t);return r[i].includes(s)},r={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},a=Object.keys(r),o=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===a.indexOf(e))throw new Error(`Invalid operator, expected one of ${a.join("|")}`)}},"./node_modules/compare-versions/lib/esm/compareVersions.js":(e,t,i)=>{"use strict";i.r(t),i.d(t,{compareVersions:()=>s});var A=i("./node_modules/compare-versions/lib/esm/utils.js");const s=(e,t)=>{const i=(0,A.validateAndParse)(e),s=(0,A.validateAndParse)(t),r=i.pop(),a=s.pop(),o=(0,A.compareSegments)(i,s);return 0!==o?o:r&&a?(0,A.compareSegments)(r.split("."),a.split(".")):r||a?r?-1:1:0}},"./node_modules/compare-versions/lib/esm/utils.js":(e,t,i)=>{"use strict";i.r(t),i.d(t,{compareSegments:()=>n,semver:()=>A,validateAndParse:()=>s});const A=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,s=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(A);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},r=e=>"*"===e||"x"===e||"X"===e,a=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},o=(e,t)=>{if(r(e)||r(t))return 0;const[i,A]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(a(e),a(t));return i>A?1:i<A?-1:0},n=(e,t)=>{for(let i=0;i<Math.max(e.length,t.length);i++){const A=o(e[i]||"0",t[i]||"0");if(0!==A)return A}return 0}},"./node_modules/fast-xml-parser/src/json2xml.js":(e,t,i)=>{"use strict";const A=i("./node_modules/fast-xml-parser/src/util.js").buildOptions,s={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},r=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function a(e){this.options=A(e,s,r),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.options.cdataTagName?this.isCDATA=I:this.isCDATA=function(){return!1},this.replaceCDATAstr=n,this.replaceCDATAarr=l,this.processTextOrObjNode=o,this.options.format?(this.indentate=u,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=h,this.buildObjNode=c):(this.buildTextNode=g,this.buildObjNode=d),this.buildTextValNode=g,this.buildObjectNode=d}function o(e,t,i){const A=this.j2x(e,i+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(A.val,t,A.attrStr,i):this.buildObjNode(A.val,t,A.attrStr,i)}function n(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function l(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let i in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[i]+"]]>");return e+this.newLine}function d(e,t,i,A){return i&&-1===e.indexOf("<")?this.indentate(A)+"<"+t+i+">"+e+"</"+t+this.tagEndChar:this.indentate(A)+"<"+t+i+this.tagEndChar+e+this.indentate(A)+"</"+t+this.tagEndChar}function c(e,t,i,A){return""!==e?this.buildObjectNode(e,t,i,A):this.indentate(A)+"<"+t+i+"/"+this.tagEndChar}function g(e,t,i,A){return this.indentate(A)+"<"+t+i+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function h(e,t,i,A){return""!==e?this.buildTextValNode(e,t,i,A):this.indentate(A)+"<"+t+i+"/"+this.tagEndChar}function u(e){return this.options.indentBy.repeat(e)}function p(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function I(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val},a.prototype.j2x=function(e,t){let i="",A="";for(let s in e)if(void 0===e[s]);else if(null===e[s])A+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)A+=this.buildTextNode(e[s],s,"",t);else if("object"!=typeof e[s]){const r=this.isAttribute(s);r?i+=" "+r+'="'+this.options.attrValueProcessor(""+e[s])+'"':this.isCDATA(s)?e[this.options.textNodeName]?A+=this.replaceCDATAstr(e[this.options.textNodeName],e[s]):A+=this.replaceCDATAstr("",e[s]):s===this.options.textNodeName?e[this.options.cdataTagName]||(A+=this.options.tagValueProcessor(""+e[s])):A+=this.buildTextNode(e[s],s,"",t)}else if(Array.isArray(e[s]))if(this.isCDATA(s))A+=this.indentate(t),e[this.options.textNodeName]?A+=this.replaceCDATAarr(e[this.options.textNodeName],e[s]):A+=this.replaceCDATAarr("",e[s]);else{const i=e[s].length;for(let r=0;r<i;r++){const i=e[s][r];void 0===i||(A+=null===i?this.indentate(t)+"<"+s+"/"+this.tagEndChar:"object"==typeof i?this.processTextOrObjNode(i,s,t):this.buildTextNode(i,s,"",t))}}else if(this.options.attrNodeName&&s===this.options.attrNodeName){const t=Object.keys(e[s]),A=t.length;for(let r=0;r<A;r++)i+=" "+t[r]+'="'+this.options.attrValueProcessor(""+e[s][t[r]])+'"'}else A+=this.processTextOrObjNode(e[s],s,t);return{attrStr:i,val:A}},e.exports=a},"./node_modules/fast-xml-parser/src/nimndata.js":(e,t,i)=>{"use strict";const A=function(e){return String.fromCharCode(e)},s={nilChar:A(176),missingChar:A(201),nilPremitive:A(175),missingPremitive:A(200),emptyChar:A(178),emptyValue:A(177),boundryChar:A(179),objStart:A(198),arrStart:A(204),arrayEnd:A(185)},r=[s.nilChar,s.nilPremitive,s.missingChar,s.missingPremitive,s.boundryChar,s.emptyChar,s.emptyValue,s.arrayEnd,s.objStart,s.arrStart],a=function(e,t,i){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?o(e[0].val,t):o(e,t);{const r=void 0===(A=e)?s.missingChar:null===A?s.nilChar:!(A.child&&0===Object.keys(A.child).length&&(!A.attrsMap||0===Object.keys(A.attrsMap).length))||s.emptyChar;if(!0===r){let A="";if(Array.isArray(t)){A+=s.arrStart;const r=t[0],l=e.length;if("string"==typeof r)for(let t=0;t<l;t++){const i=o(e[t].val,r);A=n(A,i)}else for(let t=0;t<l;t++){const s=a(e[t],r,i);A=n(A,s)}A+=s.arrayEnd}else{A+=s.objStart;const r=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let s in r){const o=r[s];let l;l=!i.ignoreAttributes&&e.attrsMap&&e.attrsMap[o]?a(e.attrsMap[o],t[o],i):o===i.textNodeName?a(e.val,t[o],i):a(e.child[o],t[o],i),A=n(A,l)}}return A}return r}var A},o=function(e){switch(e){case void 0:return s.missingPremitive;case null:return s.nilPremitive;case"":return s.emptyValue;default:return e}},n=function(e,t){return l(t[0])||l(e[e.length-1])||(e+=s.boundryChar),e+t},l=function(e){return-1!==r.indexOf(e)},d=i("./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"),c=i("./node_modules/fast-xml-parser/src/util.js").buildOptions;t.convert2nimn=function(e,t,i){return i=c(i,d.defaultOptions,d.props),a(e,t,i)}},"./node_modules/fast-xml-parser/src/node2json.js":(e,t,i)=>{"use strict";const A=i("./node_modules/fast-xml-parser/src/util.js"),s=function(e,t,i){const r={};if(!t.alwaysCreateTextNode&&(!e.child||A.isEmptyObject(e.child))&&(!e.attrsMap||A.isEmptyObject(e.attrsMap)))return A.isExist(e.val)?e.val:"";if(A.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const s=A.isTagNameInArrayMode(e.tagname,t.arrayMode,i);r[t.textNodeName]=s?[e.val]:e.val}A.merge(r,e.attrsMap,t.arrayMode);const a=Object.keys(e.child);for(let o=0;o<a.length;o++){const n=a[o];if(e.child[n]&&e.child[n].length>1){r[n]=[];for(let i in e.child[n])e.child[n].hasOwnProperty(i)&&r[n].push(s(e.child[n][i],t,n))}else{const a=s(e.child[n][0],t,n),o=!0===t.arrayMode&&"object"==typeof a||A.isTagNameInArrayMode(n,t.arrayMode,i);r[n]=o?[a]:a}}return r};t.convertToJson=s},"./node_modules/fast-xml-parser/src/node2json_str.js":(e,t,i)=>{"use strict";const A=i("./node_modules/fast-xml-parser/src/util.js"),s=i("./node_modules/fast-xml-parser/src/util.js").buildOptions,r=i("./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"),a=function(e,t,i){let s="{";const r=Object.keys(e.child);for(let i=0;i<r.length;i++){const A=r[i];if(e.child[A]&&e.child[A].length>1){s+='"'+A+'" : [ ';for(let i in e.child[A])s+=a(e.child[A][i],t)+" , ";s=s.substr(0,s.length-1)+" ] "}else s+='"'+A+'" : '+a(e.child[A][0],t)+" ,"}return A.merge(s,e.attrsMap),A.isEmptyObject(s)?A.isExist(e.val)?e.val:"":(A.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(s+='"'+t.textNodeName+'" : '+(!0!==(o=e.val)&&!1!==o&&isNaN(o)?'"'+o+'"':o)),","===s[s.length-1]&&(s=s.substr(0,s.length-2)),s+"}");var o};t.convertToJsonString=function(e,t){return(t=s(t,r.defaultOptions,r.props)).indentBy=t.indentBy||"",a(e,t,0)}},"./node_modules/fast-xml-parser/src/parser.js":(e,t,i)=>{"use strict";const A=i("./node_modules/fast-xml-parser/src/node2json.js"),s=i("./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"),r=i("./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"),a=i("./node_modules/fast-xml-parser/src/util.js").buildOptions,o=i("./node_modules/fast-xml-parser/src/validator.js");t.parse=function(e,t={},i){if(i){!0===i&&(i={});const t=o.validate(e,i);if(!0!==t)throw Error(t.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let n=a(t,r.defaultOptions,r.props);const l=s.getTraversalObj(e,n);return A.convertToJson(l,n)},t.convertTonimn=i("./node_modules/fast-xml-parser/src/nimndata.js").convert2nimn,t.getTraversalObj=s.getTraversalObj,t.convertToJson=A.convertToJson,t.convertToJsonString=i("./node_modules/fast-xml-parser/src/node2json_str.js").convertToJsonString,t.validate=o.validate,t.j2xParser=i("./node_modules/fast-xml-parser/src/json2xml.js"),t.parseToNimn=function(e,i,A){return t.convertTonimn(t.getTraversalObj(e,A),i,A)}},"./node_modules/fast-xml-parser/src/util.js":(e,t)=>{"use strict";const i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",A="["+i+"]["+i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+A+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,i){if(t){const A=Object.keys(t),s=A.length;for(let r=0;r<s;r++)e[A[r]]="strict"===i?[t[A[r]]]:t[A[r]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,i){let A={};if(!e)return t;for(let s=0;s<i.length;s++)void 0!==e[i[s]]?A[i[s]]=e[i[s]]:A[i[s]]=t[i[s]];return A},t.isTagNameInArrayMode=function(e,t,i){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,i):"strict"===t)},t.isName=function(e){return!(null==s.exec(e))},t.getAllMatches=function(e,t){const i=[];let A=t.exec(e);for(;A;){const s=[];s.startIndex=t.lastIndex-A[0].length;const r=A.length;for(let e=0;e<r;e++)s.push(A[e]);i.push(s),A=t.exec(e)}return i},t.nameRegexp=A},"./node_modules/fast-xml-parser/src/validator.js":(e,t,i)=>{"use strict";const A=i("./node_modules/fast-xml-parser/src/util.js"),s={allowBooleanAttributes:!1},r=["allowBooleanAttributes"];function a(e,t){const i=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const A=e.substr(i,t-i);if(t>5&&"xml"===A)return u("InvalidXml","XML declaration allowed only at the start of the document.",I(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function o(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let i=1;for(t+=8;t<e.length;t++)if("<"===e[t])i++;else if(">"===e[t]&&(i--,0===i))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=A.buildOptions(t,s,r);const i=[];let n=!1,l=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if("<"===e[s]&&"?"===e[s+1]){if(s+=2,s=a(e,s),s.err)return s}else{if("<"!==e[s]){if(" "===e[s]||"\t"===e[s]||"\n"===e[s]||"\r"===e[s])continue;return u("InvalidChar","char '"+e[s]+"' is not expected.",I(e,s))}{let r=s;if(s++,"!"===e[s]){s=o(e,s);continue}{let p=!1;"/"===e[s]&&(p=!0,s++);let f="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"\t"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)f+=e[s];if(f=f.trim(),"/"===f[f.length-1]&&(f=f.substring(0,f.length-1),s--),c=f,!A.isName(c)){let t;return t=0===f.trim().length?"Invalid space after '<'.":"Tag '"+f+"' is an invalid name.",u("InvalidTag",t,I(e,s))}const m=d(e,s);if(!1===m)return u("InvalidAttr","Attributes for '"+f+"' have open quote.",I(e,s));let C=m.value;if(s=m.index,"/"===C[C.length-1]){const i=s-C.length;C=C.substring(0,C.length-1);const A=g(C,t);if(!0!==A)return u(A.err.code,A.err.msg,I(e,i+A.err.line));n=!0}else if(p){if(!m.tagClosed)return u("InvalidTag","Closing tag '"+f+"' doesn't have proper closing.",I(e,s));if(C.trim().length>0)return u("InvalidTag","Closing tag '"+f+"' can't have attributes or invalid starting.",I(e,r));{const t=i.pop();if(f!==t.tagName){let i=I(e,t.tagStartPos);return u("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+i.line+", col "+i.col+") instead of closing tag '"+f+"'.",I(e,r))}0==i.length&&(l=!0)}}else{const A=g(C,t);if(!0!==A)return u(A.err.code,A.err.msg,I(e,s-C.length+A.err.line));if(!0===l)return u("InvalidXml","Multiple possible root nodes found.",I(e,s));i.push({tagName:f,tagStartPos:r}),n=!0}for(s++;s<e.length;s++)if("<"===e[s]){if("!"===e[s+1]){s++,s=o(e,s);continue}if("?"!==e[s+1])break;if(s=a(e,++s),s.err)return s}else if("&"===e[s]){const t=h(e,s);if(-1==t)return u("InvalidChar","char '&' is not expected.",I(e,s));s=t}"<"===e[s]&&s--}}}var c;return n?1==i.length?u("InvalidTag","Unclosed tag '"+i[0].tagName+"'.",I(e,i[0].tagStartPos)):!(i.length>0)||u("InvalidXml","Invalid '"+JSON.stringify(i.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):u("InvalidXml","Start tag expected.",1)};const n='"',l="'";function d(e,t){let i="",A="",s=!1;for(;t<e.length;t++){if(e[t]===n||e[t]===l)""===A?A=e[t]:A!==e[t]||(A="");else if(">"===e[t]&&""===A){s=!0;break}i+=e[t]}return""===A&&{value:i,index:t,tagClosed:s}}const c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function g(e,t){const i=A.getAllMatches(e,c),s={};for(let e=0;e<i.length;e++){if(0===i[e][1].length)return u("InvalidAttr","Attribute '"+i[e][2]+"' has no space in starting.",f(i[e]));if(void 0===i[e][3]&&!t.allowBooleanAttributes)return u("InvalidAttr","boolean attribute '"+i[e][2]+"' is not allowed.",f(i[e]));const A=i[e][2];if(!p(A))return u("InvalidAttr","Attribute '"+A+"' is an invalid name.",f(i[e]));if(s.hasOwnProperty(A))return u("InvalidAttr","Attribute '"+A+"' is repeated.",f(i[e]));s[A]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let i=/\d/;for("x"===e[t]&&(t++,i=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(i))break}return-1}(e,++t);let i=0;for(;t<e.length;t++,i++)if(!(e[t].match(/\w/)&&i<20)){if(";"===e[t])break;return-1}return t}function u(e,t,i){return{err:{code:e,msg:t,line:i.line||i,col:i.col}}}function p(e){return A.isName(e)}function I(e,t){const i=e.substring(0,t).split(/\r?\n/);return{line:i.length,col:i[i.length-1].length+1}}function f(e){return e.startIndex+e[1].length}},"./node_modules/fast-xml-parser/src/xmlNode.js":e=>{"use strict";e.exports=function(e,t,i){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=i,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},"./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js":(e,t,i)=>{"use strict";const A=i("./node_modules/fast-xml-parser/src/util.js"),s=i("./node_modules/fast-xml-parser/src/util.js").buildOptions,r=i("./node_modules/fast-xml-parser/src/xmlNode.js"),a=i("./node_modules/strnum/strnum.js");"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,A.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const o={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};t.defaultOptions=o;const n=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function l(e,t,i){return t&&(i.trimValues&&(t=t.trim()),t=c(t=i.tagValueProcessor(t,e),i.parseNodeValue,i.numParseOptions)),t}function d(e,t){if(t.ignoreNameSpace){const t=e.split(":"),i="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=i+t[1])}return e}function c(e,t,i){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&a(e,i)}return A.isExist(e)?e:""}t.props=n;const g=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function h(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const i=A.getAllMatches(e,g),s=i.length,r={};for(let e=0;e<s;e++){const A=d(i[e][1],t);A.length&&(void 0!==i[e][4]?(t.trimValues&&(i[e][4]=i[e][4].trim()),i[e][4]=t.attrValueProcessor(i[e][4],A),r[t.attributeNamePrefix+A]=c(i[e][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(r[t.attributeNamePrefix+A]=!0))}if(!Object.keys(r).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=r,e}return r}}function u(e,t){let i,A="";for(let s=t;s<e.length;s++){let t=e[s];if(i)t===i&&(i="");else if('"'===t||"'"===t)i=t;else{if(">"===t)return{data:A,index:s};"\t"===t&&(t=" ")}A+=t}}function p(e,t,i,A){const s=e.indexOf(t,i);if(-1===s)throw new Error(A);return s+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=s(t,o,n);const i=new r("!xml");let a=i,d="";for(let i=0;i<e.length;i++)if("<"===e[i])if("/"===e[i+1]){const s=p(e,">",i,"Closing Tag is not closed.");let r=e.substring(i+2,s).trim();if(t.ignoreNameSpace){const e=r.indexOf(":");-1!==e&&(r=r.substr(e+1))}a&&(a.val?a.val=A.getValue(a.val)+""+l(r,d,t):a.val=l(r,d,t)),t.stopNodes.length&&t.stopNodes.includes(a.tagname)&&(a.child=[],null==a.attrsMap&&(a.attrsMap={}),a.val=e.substr(a.startIndex+1,i-a.startIndex-1)),a=a.parent,d="",i=s}else if("?"===e[i+1])i=p(e,"?>",i,"Pi Tag is not closed.");else if("!--"===e.substr(i+1,3))i=p(e,"--\x3e",i,"Comment is not closed.");else if("!D"===e.substr(i+1,2)){const t=p(e,">",i,"DOCTYPE is not closed.");i=e.substring(i,t).indexOf("[")>=0?e.indexOf("]>",i)+1:t}else if("!["===e.substr(i+1,2)){const s=p(e,"]]>",i,"CDATA is not closed.")-2,o=e.substring(i+9,s);if(d&&(a.val=A.getValue(a.val)+""+l(a.tagname,d,t),d=""),t.cdataTagName){const e=new r(t.cdataTagName,a,o);a.addChild(e),a.val=A.getValue(a.val)+t.cdataPositionChar,o&&(e.val=o)}else a.val=(a.val||"")+(o||"");i=s+2}else{const s=u(e,i+1);let o=s.data;const n=s.index,c=o.indexOf(" ");let g=o,p=!0;if(-1!==c&&(g=o.substr(0,c).replace(/\s\s*$/,""),o=o.substr(c+1)),t.ignoreNameSpace){const e=g.indexOf(":");-1!==e&&(g=g.substr(e+1),p=g!==s.data.substr(e+1))}if(a&&d&&"!xml"!==a.tagname&&(a.val=A.getValue(a.val)+""+l(a.tagname,d,t)),o.length>0&&o.lastIndexOf("/")===o.length-1){"/"===g[g.length-1]?(g=g.substr(0,g.length-1),o=g):o=o.substr(0,o.length-1);const e=new r(g,a,"");g!==o&&(e.attrsMap=h(o,t)),a.addChild(e)}else{const e=new r(g,a);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=n),g!==o&&p&&(e.attrsMap=h(o,t)),a.addChild(e),a=e}d="",i=n}else d+=e[i];return i}},"./node_modules/pako/index.js":(e,t,i)=>{"use strict";var A={};(0,i("./node_modules/pako/lib/utils/common.js").assign)(A,i("./node_modules/pako/lib/deflate.js"),i("./node_modules/pako/lib/inflate.js"),i("./node_modules/pako/lib/zlib/constants.js")),e.exports=A},"./node_modules/pako/lib/deflate.js":(e,t,i)=>{"use strict";var A=i("./node_modules/pako/lib/zlib/deflate.js"),s=i("./node_modules/pako/lib/utils/common.js"),r=i("./node_modules/pako/lib/utils/strings.js"),a=i("./node_modules/pako/lib/zlib/messages.js"),o=i("./node_modules/pako/lib/zlib/zstream.js"),n=Object.prototype.toString,l=0,d=-1,c=0,g=8;function h(e){if(!(this instanceof h))return new h(e);this.options=s.assign({level:d,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var i=A.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==l)throw new Error(a[i]);if(t.header&&A.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?r.string2buf(t.dictionary):"[object ArrayBuffer]"===n.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=A.deflateSetDictionary(this.strm,u))!==l)throw new Error(a[i]);this._dict_set=!0}}function u(e,t){var i=new h(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}h.prototype.push=function(e,t){var i,a,o=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=r.string2buf(e):"[object ArrayBuffer]"===n.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new s.Buf8(d),o.next_out=0,o.avail_out=d),1!==(i=A.deflate(o,a))&&i!==l)return this.onEnd(i),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(r.buf2binstring(s.shrinkBuf(o.output,o.next_out))):this.onData(s.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==i);return 4===a?(i=A.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===l):2!==a||(this.onEnd(l),o.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=h,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},"./node_modules/pako/lib/inflate.js":(e,t,i)=>{"use strict";var A=i("./node_modules/pako/lib/zlib/inflate.js"),s=i("./node_modules/pako/lib/utils/common.js"),r=i("./node_modules/pako/lib/utils/strings.js"),a=i("./node_modules/pako/lib/zlib/constants.js"),o=i("./node_modules/pako/lib/zlib/messages.js"),n=i("./node_modules/pako/lib/zlib/zstream.js"),l=i("./node_modules/pako/lib/zlib/gzheader.js"),d=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var i=A.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(o[i]);if(this.header=new l,A.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=r.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=A.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(o[i])}function g(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}c.prototype.push=function(e,t){var i,o,n,l,c,g=this.strm,h=this.options.chunkSize,u=this.options.dictionary,p=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?g.input=r.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?g.input=new Uint8Array(e):g.input=e,g.next_in=0,g.avail_in=g.input.length;do{if(0===g.avail_out&&(g.output=new s.Buf8(h),g.next_out=0,g.avail_out=h),(i=A.inflate(g,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&u&&(i=A.inflateSetDictionary(this.strm,u)),i===a.Z_BUF_ERROR&&!0===p&&(i=a.Z_OK,p=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;g.next_out&&(0!==g.avail_out&&i!==a.Z_STREAM_END&&(0!==g.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(n=r.utf8border(g.output,g.next_out),l=g.next_out-n,c=r.buf2string(g.output,n),g.next_out=l,g.avail_out=h-l,l&&s.arraySet(g.output,g.output,n,l,0),this.onData(c)):this.onData(s.shrinkBuf(g.output,g.next_out)))),0===g.avail_in&&0===g.avail_out&&(p=!0)}while((g.avail_in>0||0===g.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(i=A.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),g.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=c,t.inflate=g,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,g(e,t)},t.ungzip=g},"./node_modules/pako/lib/utils/common.js":(e,t)=>{"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var s in i)A(i,s)&&(e[s]=i[s])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,i,A,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+A),s);else for(var r=0;r<A;r++)e[s+r]=t[i+r]},flattenChunks:function(e){var t,i,A,s,r,a;for(A=0,t=0,i=e.length;t<i;t++)A+=e[t].length;for(a=new Uint8Array(A),s=0,t=0,i=e.length;t<i;t++)r=e[t],a.set(r,s),s+=r.length;return a}},r={arraySet:function(e,t,i,A,s){for(var r=0;r<A;r++)e[s+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},"./node_modules/pako/lib/utils/strings.js":(e,t,i)=>{"use strict";var A=i("./node_modules/pako/lib/utils/common.js"),s=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var a=new A.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function n(e,t){if(t<65534&&(e.subarray&&r||!e.subarray&&s))return String.fromCharCode.apply(null,A.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}a[254]=a[254]=1,t.string2buf=function(e){var t,i,s,r,a,o=e.length,n=0;for(r=0;r<o;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(s=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(s-56320),r++),n+=i<128?1:i<2048?2:i<65536?3:4;for(t=new A.Buf8(n),a=0,r=0;a<n;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(s=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(s-56320),r++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},t.buf2binstring=function(e){return n(e,e.length)},t.binstring2buf=function(e){for(var t=new A.Buf8(e.length),i=0,s=t.length;i<s;i++)t[i]=e.charCodeAt(i);return t},t.buf2string=function(e,t){var i,A,s,r,o=t||e.length,l=new Array(2*o);for(A=0,i=0;i<o;)if((s=e[i++])<128)l[A++]=s;else if((r=a[s])>4)l[A++]=65533,i+=r-1;else{for(s&=2===r?31:3===r?15:7;r>1&&i<o;)s=s<<6|63&e[i++],r--;r>1?l[A++]=65533:s<65536?l[A++]=s:(s-=65536,l[A++]=55296|s>>10&1023,l[A++]=56320|1023&s)}return n(l,A)},t.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}},"./node_modules/pako/lib/zlib/adler32.js":e=>{"use strict";e.exports=function(e,t,i,A){for(var s=65535&e|0,r=e>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{r=r+(s=s+t[A++]|0)|0}while(--a);s%=65521,r%=65521}return s|r<<16|0}},"./node_modules/pako/lib/zlib/constants.js":e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/pako/lib/zlib/crc32.js":e=>{"use strict";var t=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var A=0;A<8;A++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,i,A,s){var r=t,a=s+A;e^=-1;for(var o=s;o<a;o++)e=e>>>8^r[255&(e^i[o])];return-1^e}},"./node_modules/pako/lib/zlib/deflate.js":(e,t,i)=>{"use strict";var A,s=i("./node_modules/pako/lib/utils/common.js"),r=i("./node_modules/pako/lib/zlib/trees.js"),a=i("./node_modules/pako/lib/zlib/adler32.js"),o=i("./node_modules/pako/lib/zlib/crc32.js"),n=i("./node_modules/pako/lib/zlib/messages.js"),l=0,d=0,c=-2,g=2,h=8,u=286,p=30,I=19,f=2*u+1,m=15,C=3,B=258,E=B+C+1,y=42,Q=103,w=113,b=666;function _(e,t){return e.msg=n[t],t}function v(e){return(e<<1)-(e>4?9:0)}function x(e){for(var t=e.length;--t>=0;)e[t]=0}function T(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(s.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function k(e,t){r._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,T(e.strm)}function D(e,t){e.pending_buf[e.pending++]=t}function L(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function N(e,t){var i,A,s=e.max_chain_length,r=e.strstart,a=e.prev_length,o=e.nice_match,n=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,l=e.window,d=e.w_mask,c=e.prev,g=e.strstart+B,h=l[r+a-1],u=l[r+a];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do{if(l[(i=t)+a]===u&&l[i+a-1]===h&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<g);if(A=B-(g-r),r=g-B,A>a){if(e.match_start=t,a=A,A>=o)break;h=l[r+a-1],u=l[r+a]}}}while((t=c[t&d])>n&&0!=--s);return a<=e.lookahead?a:e.lookahead}function F(e){var t,i,A,r,n,l,d,c,g,h,u=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-E)){s.arraySet(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=i=e.hash_size;do{A=e.head[--t],e.head[t]=A>=u?A-u:0}while(--i);t=i=u;do{A=e.prev[--t],e.prev[t]=A>=u?A-u:0}while(--i);r+=u}if(0===e.strm.avail_in)break;if(l=e.strm,d=e.window,c=e.strstart+e.lookahead,g=r,h=void 0,(h=l.avail_in)>g&&(h=g),i=0===h?0:(l.avail_in-=h,s.arraySet(d,l.input,l.next_in,h,c),1===l.state.wrap?l.adler=a(l.adler,d,h,c):2===l.state.wrap&&(l.adler=o(l.adler,d,h,c)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=i,e.lookahead+e.insert>=C)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+C-1])&e.hash_mask,e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<C)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function S(e,t){for(var i,A;;){if(e.lookahead<E){if(F(e),e.lookahead<E&&t===l)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-E&&(e.match_length=N(e,i)),e.match_length>=C)if(A=r._tr_tally(e,e.strstart-e.match_start,e.match_length-C),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=C){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else A=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(A&&(k(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<C-1?e.strstart:C-1,4===t?(k(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?1:2}function G(e,t){for(var i,A,s;;){if(e.lookahead<E){if(F(e),e.lookahead<E&&t===l)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=C-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-E&&(e.match_length=N(e,i),e.match_length<=5&&(1===e.strategy||e.match_length===C&&e.strstart-e.match_start>4096)&&(e.match_length=C-1)),e.prev_length>=C&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-C,A=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-C),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=C-1,e.strstart++,A&&(k(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((A=r._tr_tally(e,0,e.window[e.strstart-1]))&&k(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(A=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<C-1?e.strstart:C-1,4===t?(k(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?1:2}function j(e,t,i,A,s){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=A,this.func=s}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*f),this.dyn_dtree=new s.Buf16(2*(2*p+1)),this.bl_tree=new s.Buf16(2*(2*I+1)),x(this.dyn_ltree),x(this.dyn_dtree),x(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(m+1),this.heap=new s.Buf16(2*u+1),x(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*u+1),x(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?y:w,e.adler=2===t.wrap?0:1,t.last_flush=l,r._tr_init(t),d):_(e,c)}function O(e){var t,i=R(e);return i===d&&((t=e.state).window_size=2*t.w_size,x(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=C-1,t.match_available=0,t.ins_h=0),i}function z(e,t,i,A,r,a){if(!e)return c;var o=1;if(-1===t&&(t=6),A<0?(o=0,A=-A):A>15&&(o=2,A-=16),r<1||r>9||i!==h||A<8||A>15||t<0||t>9||a<0||a>4)return _(e,c);8===A&&(A=9);var n=new M;return e.state=n,n.strm=e,n.wrap=o,n.gzhead=null,n.w_bits=A,n.w_size=1<<n.w_bits,n.w_mask=n.w_size-1,n.hash_bits=r+7,n.hash_size=1<<n.hash_bits,n.hash_mask=n.hash_size-1,n.hash_shift=~~((n.hash_bits+C-1)/C),n.window=new s.Buf8(2*n.w_size),n.head=new s.Buf16(n.hash_size),n.prev=new s.Buf16(n.w_size),n.lit_bufsize=1<<r+6,n.pending_buf_size=4*n.lit_bufsize,n.pending_buf=new s.Buf8(n.pending_buf_size),n.d_buf=1*n.lit_bufsize,n.l_buf=3*n.lit_bufsize,n.level=t,n.strategy=a,n.method=i,O(e)}A=[new j(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(F(e),0===e.lookahead&&t===l)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var A=e.block_start+i;if((0===e.strstart||e.strstart>=A)&&(e.lookahead=e.strstart-A,e.strstart=A,k(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-E&&(k(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(k(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(k(e,!1),e.strm.avail_out),1)})),new j(4,4,8,4,S),new j(4,5,16,8,S),new j(4,6,32,32,S),new j(4,4,16,16,G),new j(8,16,32,32,G),new j(8,16,128,128,G),new j(8,32,128,256,G),new j(32,128,258,1024,G),new j(32,258,258,4096,G)],t.deflateInit=function(e,t){return z(e,t,h,15,8,0)},t.deflateInit2=z,t.deflateReset=O,t.deflateResetKeep=R,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,d):c},t.deflate=function(e,t){var i,s,a,n;if(!e||!e.state||t>5||t<0)return e?_(e,c):c;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===b&&4!==t)return _(e,0===e.avail_out?-5:c);if(s.strm=e,i=s.last_flush,s.last_flush=t,s.status===y)if(2===s.wrap)e.adler=0,D(s,31),D(s,139),D(s,8),s.gzhead?(D(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),D(s,255&s.gzhead.time),D(s,s.gzhead.time>>8&255),D(s,s.gzhead.time>>16&255),D(s,s.gzhead.time>>24&255),D(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),D(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(D(s,255&s.gzhead.extra.length),D(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=o(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(D(s,0),D(s,0),D(s,0),D(s,0),D(s,0),D(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),D(s,3),s.status=w);else{var g=h+(s.w_bits-8<<4)<<8;g|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(g|=32),g+=31-g%31,s.status=w,L(s,g),0!==s.strstart&&(L(s,e.adler>>>16),L(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(a=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),T(e),a=s.pending,s.pending!==s.pending_buf_size));)D(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),T(e),a=s.pending,s.pending===s.pending_buf_size)){n=1;break}n=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,D(s,n)}while(0!==n);s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),0===n&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),T(e),a=s.pending,s.pending===s.pending_buf_size)){n=1;break}n=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,D(s,n)}while(0!==n);s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),0===n&&(s.status=Q)}else s.status=Q;if(s.status===Q&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&T(e),s.pending+2<=s.pending_buf_size&&(D(s,255&e.adler),D(s,e.adler>>8&255),e.adler=0,s.status=w)):s.status=w),0!==s.pending){if(T(e),0===e.avail_out)return s.last_flush=-1,d}else if(0===e.avail_in&&v(t)<=v(i)&&4!==t)return _(e,-5);if(s.status===b&&0!==e.avail_in)return _(e,-5);if(0!==e.avail_in||0!==s.lookahead||t!==l&&s.status!==b){var u=2===s.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(F(e),0===e.lookahead)){if(t===l)return 1;break}if(e.match_length=0,i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(k(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(k(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?1:2}(s,t):3===s.strategy?function(e,t){for(var i,A,s,a,o=e.window;;){if(e.lookahead<=B){if(F(e),e.lookahead<=B&&t===l)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=C&&e.strstart>0&&(A=o[s=e.strstart-1])===o[++s]&&A===o[++s]&&A===o[++s]){a=e.strstart+B;do{}while(A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&A===o[++s]&&s<a);e.match_length=B-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=C?(i=r._tr_tally(e,1,e.match_length-C),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(k(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(k(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?1:2}(s,t):A[s.level].func(s,t);if(3!==u&&4!==u||(s.status=b),1===u||3===u)return 0===e.avail_out&&(s.last_flush=-1),d;if(2===u&&(1===t?r._tr_align(s):5!==t&&(r._tr_stored_block(s,0,0,!1),3===t&&(x(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),T(e),0===e.avail_out))return s.last_flush=-1,d}return 4!==t?d:s.wrap<=0?1:(2===s.wrap?(D(s,255&e.adler),D(s,e.adler>>8&255),D(s,e.adler>>16&255),D(s,e.adler>>24&255),D(s,255&e.total_in),D(s,e.total_in>>8&255),D(s,e.total_in>>16&255),D(s,e.total_in>>24&255)):(L(s,e.adler>>>16),L(s,65535&e.adler)),T(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?d:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==y&&69!==t&&73!==t&&91!==t&&t!==Q&&t!==w&&t!==b?_(e,c):(e.state=null,t===w?_(e,-3):d):c},t.deflateSetDictionary=function(e,t){var i,A,r,o,n,l,g,h,u=t.length;if(!e||!e.state)return c;if(2===(o=(i=e.state).wrap)||1===o&&i.status!==y||i.lookahead)return c;for(1===o&&(e.adler=a(e.adler,t,u,0)),i.wrap=0,u>=i.w_size&&(0===o&&(x(i.head),i.strstart=0,i.block_start=0,i.insert=0),h=new s.Buf8(i.w_size),s.arraySet(h,t,u-i.w_size,i.w_size,0),t=h,u=i.w_size),n=e.avail_in,l=e.next_in,g=e.input,e.avail_in=u,e.next_in=0,e.input=t,F(i);i.lookahead>=C;){A=i.strstart,r=i.lookahead-(C-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[A+C-1])&i.hash_mask,i.prev[A&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=A,A++}while(--r);i.strstart=A,i.lookahead=C-1,F(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=C-1,i.match_available=0,e.next_in=l,e.input=g,e.avail_in=n,i.wrap=o,d},t.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/gzheader.js":e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"./node_modules/pako/lib/zlib/inffast.js":e=>{"use strict";e.exports=function(e,t){var i,A,s,r,a,o,n,l,d,c,g,h,u,p,I,f,m,C,B,E,y,Q,w,b,_;i=e.state,A=e.next_in,b=e.input,s=A+(e.avail_in-5),r=e.next_out,_=e.output,a=r-(t-e.avail_out),o=r+(e.avail_out-257),n=i.dmax,l=i.wsize,d=i.whave,c=i.wnext,g=i.window,h=i.hold,u=i.bits,p=i.lencode,I=i.distcode,f=(1<<i.lenbits)-1,m=(1<<i.distbits)-1;e:do{u<15&&(h+=b[A++]<<u,u+=8,h+=b[A++]<<u,u+=8),C=p[h&f];t:for(;;){if(h>>>=B=C>>>24,u-=B,0==(B=C>>>16&255))_[r++]=65535&C;else{if(!(16&B)){if(0==(64&B)){C=p[(65535&C)+(h&(1<<B)-1)];continue t}if(32&B){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}E=65535&C,(B&=15)&&(u<B&&(h+=b[A++]<<u,u+=8),E+=h&(1<<B)-1,h>>>=B,u-=B),u<15&&(h+=b[A++]<<u,u+=8,h+=b[A++]<<u,u+=8),C=I[h&m];i:for(;;){if(h>>>=B=C>>>24,u-=B,!(16&(B=C>>>16&255))){if(0==(64&B)){C=I[(65535&C)+(h&(1<<B)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(y=65535&C,u<(B&=15)&&(h+=b[A++]<<u,(u+=8)<B&&(h+=b[A++]<<u,u+=8)),(y+=h&(1<<B)-1)>n){e.msg="invalid distance too far back",i.mode=30;break e}if(h>>>=B,u-=B,y>(B=r-a)){if((B=y-B)>d&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(Q=0,w=g,0===c){if(Q+=l-B,B<E){E-=B;do{_[r++]=g[Q++]}while(--B);Q=r-y,w=_}}else if(c<B){if(Q+=l+c-B,(B-=c)<E){E-=B;do{_[r++]=g[Q++]}while(--B);if(Q=0,c<E){E-=B=c;do{_[r++]=g[Q++]}while(--B);Q=r-y,w=_}}}else if(Q+=c-B,B<E){E-=B;do{_[r++]=g[Q++]}while(--B);Q=r-y,w=_}for(;E>2;)_[r++]=w[Q++],_[r++]=w[Q++],_[r++]=w[Q++],E-=3;E&&(_[r++]=w[Q++],E>1&&(_[r++]=w[Q++]))}else{Q=r-y;do{_[r++]=_[Q++],_[r++]=_[Q++],_[r++]=_[Q++],E-=3}while(E>2);E&&(_[r++]=_[Q++],E>1&&(_[r++]=_[Q++]))}break}}break}}while(A<s&&r<o);A-=E=u>>3,h&=(1<<(u-=E<<3))-1,e.next_in=A,e.next_out=r,e.avail_in=A<s?s-A+5:5-(A-s),e.avail_out=r<o?o-r+257:257-(r-o),i.hold=h,i.bits=u}},"./node_modules/pako/lib/zlib/inflate.js":(e,t,i)=>{"use strict";var A=i("./node_modules/pako/lib/utils/common.js"),s=i("./node_modules/pako/lib/zlib/adler32.js"),r=i("./node_modules/pako/lib/zlib/crc32.js"),a=i("./node_modules/pako/lib/zlib/inffast.js"),o=i("./node_modules/pako/lib/zlib/inftrees.js"),n=0,l=-2,d=1,c=12,g=30,h=852,u=592;function p(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new A.Buf16(320),this.work=new A.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new A.Buf32(h),t.distcode=t.distdyn=new A.Buf32(u),t.sane=1,t.back=-1,n):l}function m(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):l}function C(e,t){var i,A;return e&&e.state?(A=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==A.window&&A.wbits!==t&&(A.window=null),A.wrap=i,A.wbits=t,m(e))):l}function B(e,t){var i,A;return e?(A=new I,e.state=A,A.window=null,(i=C(e,t))!==n&&(e.state=null),i):l}var E,y,Q=!0;function w(e){if(Q){var t;for(E=new A.Buf32(512),y=new A.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,y,0,e.work,{bits:5}),Q=!1}e.lencode=E,e.lenbits=9,e.distcode=y,e.distbits=5}function b(e,t,i,s){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new A.Buf8(a.wsize)),s>=a.wsize?(A.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>s&&(r=s),A.arraySet(a.window,t,i-s,r,a.wnext),(s-=r)?(A.arraySet(a.window,t,i-s,s,0),a.wnext=s,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}t.inflateReset=m,t.inflateReset2=C,t.inflateResetKeep=f,t.inflateInit=function(e){return B(e,15)},t.inflateInit2=B,t.inflate=function(e,t){var i,h,u,I,f,m,C,B,E,y,Q,_,v,x,T,k,D,L,N,F,S,G,j,M,R=0,O=new A.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(i=e.state).mode===c&&(i.mode=13),f=e.next_out,u=e.output,C=e.avail_out,I=e.next_in,h=e.input,m=e.avail_in,B=i.hold,E=i.bits,y=m,Q=C,G=n;e:for(;;)switch(i.mode){case d:if(0===i.wrap){i.mode=13;break}for(;E<16;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(2&i.wrap&&35615===B){i.check=0,O[0]=255&B,O[1]=B>>>8&255,i.check=r(i.check,O,2,0),B=0,E=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&B)<<8)+(B>>8))%31){e.msg="incorrect header check",i.mode=g;break}if(8!=(15&B)){e.msg="unknown compression method",i.mode=g;break}if(E-=4,S=8+(15&(B>>>=4)),0===i.wbits)i.wbits=S;else if(S>i.wbits){e.msg="invalid window size",i.mode=g;break}i.dmax=1<<S,e.adler=i.check=1,i.mode=512&B?10:c,B=0,E=0;break;case 2:for(;E<16;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(i.flags=B,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=g;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=g;break}i.head&&(i.head.text=B>>8&1),512&i.flags&&(O[0]=255&B,O[1]=B>>>8&255,i.check=r(i.check,O,2,0)),B=0,E=0,i.mode=3;case 3:for(;E<32;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}i.head&&(i.head.time=B),512&i.flags&&(O[0]=255&B,O[1]=B>>>8&255,O[2]=B>>>16&255,O[3]=B>>>24&255,i.check=r(i.check,O,4,0)),B=0,E=0,i.mode=4;case 4:for(;E<16;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}i.head&&(i.head.xflags=255&B,i.head.os=B>>8),512&i.flags&&(O[0]=255&B,O[1]=B>>>8&255,i.check=r(i.check,O,2,0)),B=0,E=0,i.mode=5;case 5:if(1024&i.flags){for(;E<16;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}i.length=B,i.head&&(i.head.extra_len=B),512&i.flags&&(O[0]=255&B,O[1]=B>>>8&255,i.check=r(i.check,O,2,0)),B=0,E=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((_=i.length)>m&&(_=m),_&&(i.head&&(S=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),A.arraySet(i.head.extra,h,I,_,S)),512&i.flags&&(i.check=r(i.check,h,_,I)),m-=_,I+=_,i.length-=_),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===m)break e;_=0;do{S=h[I+_++],i.head&&S&&i.length<65536&&(i.head.name+=String.fromCharCode(S))}while(S&&_<m);if(512&i.flags&&(i.check=r(i.check,h,_,I)),m-=_,I+=_,S)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===m)break e;_=0;do{S=h[I+_++],i.head&&S&&i.length<65536&&(i.head.comment+=String.fromCharCode(S))}while(S&&_<m);if(512&i.flags&&(i.check=r(i.check,h,_,I)),m-=_,I+=_,S)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;E<16;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(B!==(65535&i.check)){e.msg="header crc mismatch",i.mode=g;break}B=0,E=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=c;break;case 10:for(;E<32;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}e.adler=i.check=p(B),B=0,E=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=f,e.avail_out=C,e.next_in=I,e.avail_in=m,i.hold=B,i.bits=E,2;e.adler=i.check=1,i.mode=c;case c:if(5===t||6===t)break e;case 13:if(i.last){B>>>=7&E,E-=7&E,i.mode=27;break}for(;E<3;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}switch(i.last=1&B,E-=1,3&(B>>>=1)){case 0:i.mode=14;break;case 1:if(w(i),i.mode=20,6===t){B>>>=2,E-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=g}B>>>=2,E-=2;break;case 14:for(B>>>=7&E,E-=7&E;E<32;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if((65535&B)!=(B>>>16^65535)){e.msg="invalid stored block lengths",i.mode=g;break}if(i.length=65535&B,B=0,E=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(_=i.length){if(_>m&&(_=m),_>C&&(_=C),0===_)break e;A.arraySet(u,h,I,_,f),m-=_,I+=_,C-=_,f+=_,i.length-=_;break}i.mode=c;break;case 17:for(;E<14;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(i.nlen=257+(31&B),B>>>=5,E-=5,i.ndist=1+(31&B),B>>>=5,E-=5,i.ncode=4+(15&B),B>>>=4,E-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=g;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;E<3;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}i.lens[z[i.have++]]=7&B,B>>>=3,E-=3}for(;i.have<19;)i.lens[z[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,j={bits:i.lenbits},G=o(0,i.lens,0,19,i.lencode,0,i.work,j),i.lenbits=j.bits,G){e.msg="invalid code lengths set",i.mode=g;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;k=(R=i.lencode[B&(1<<i.lenbits)-1])>>>16&255,D=65535&R,!((T=R>>>24)<=E);){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(D<16)B>>>=T,E-=T,i.lens[i.have++]=D;else{if(16===D){for(M=T+2;E<M;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(B>>>=T,E-=T,0===i.have){e.msg="invalid bit length repeat",i.mode=g;break}S=i.lens[i.have-1],_=3+(3&B),B>>>=2,E-=2}else if(17===D){for(M=T+3;E<M;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}E-=T,S=0,_=3+(7&(B>>>=T)),B>>>=3,E-=3}else{for(M=T+7;E<M;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}E-=T,S=0,_=11+(127&(B>>>=T)),B>>>=7,E-=7}if(i.have+_>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=g;break}for(;_--;)i.lens[i.have++]=S}}if(i.mode===g)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=g;break}if(i.lenbits=9,j={bits:i.lenbits},G=o(1,i.lens,0,i.nlen,i.lencode,0,i.work,j),i.lenbits=j.bits,G){e.msg="invalid literal/lengths set",i.mode=g;break}if(i.distbits=6,i.distcode=i.distdyn,j={bits:i.distbits},G=o(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,j),i.distbits=j.bits,G){e.msg="invalid distances set",i.mode=g;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(m>=6&&C>=258){e.next_out=f,e.avail_out=C,e.next_in=I,e.avail_in=m,i.hold=B,i.bits=E,a(e,Q),f=e.next_out,u=e.output,C=e.avail_out,I=e.next_in,h=e.input,m=e.avail_in,B=i.hold,E=i.bits,i.mode===c&&(i.back=-1);break}for(i.back=0;k=(R=i.lencode[B&(1<<i.lenbits)-1])>>>16&255,D=65535&R,!((T=R>>>24)<=E);){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(k&&0==(240&k)){for(L=T,N=k,F=D;k=(R=i.lencode[F+((B&(1<<L+N)-1)>>L)])>>>16&255,D=65535&R,!(L+(T=R>>>24)<=E);){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}B>>>=L,E-=L,i.back+=L}if(B>>>=T,E-=T,i.back+=T,i.length=D,0===k){i.mode=26;break}if(32&k){i.back=-1,i.mode=c;break}if(64&k){e.msg="invalid literal/length code",i.mode=g;break}i.extra=15&k,i.mode=22;case 22:if(i.extra){for(M=i.extra;E<M;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}i.length+=B&(1<<i.extra)-1,B>>>=i.extra,E-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;k=(R=i.distcode[B&(1<<i.distbits)-1])>>>16&255,D=65535&R,!((T=R>>>24)<=E);){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(0==(240&k)){for(L=T,N=k,F=D;k=(R=i.distcode[F+((B&(1<<L+N)-1)>>L)])>>>16&255,D=65535&R,!(L+(T=R>>>24)<=E);){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}B>>>=L,E-=L,i.back+=L}if(B>>>=T,E-=T,i.back+=T,64&k){e.msg="invalid distance code",i.mode=g;break}i.offset=D,i.extra=15&k,i.mode=24;case 24:if(i.extra){for(M=i.extra;E<M;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}i.offset+=B&(1<<i.extra)-1,B>>>=i.extra,E-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=g;break}i.mode=25;case 25:if(0===C)break e;if(_=Q-C,i.offset>_){if((_=i.offset-_)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=g;break}_>i.wnext?(_-=i.wnext,v=i.wsize-_):v=i.wnext-_,_>i.length&&(_=i.length),x=i.window}else x=u,v=f-i.offset,_=i.length;_>C&&(_=C),C-=_,i.length-=_;do{u[f++]=x[v++]}while(--_);0===i.length&&(i.mode=21);break;case 26:if(0===C)break e;u[f++]=i.length,C--,i.mode=21;break;case 27:if(i.wrap){for(;E<32;){if(0===m)break e;m--,B|=h[I++]<<E,E+=8}if(Q-=C,e.total_out+=Q,i.total+=Q,Q&&(e.adler=i.check=i.flags?r(i.check,u,Q,f-Q):s(i.check,u,Q,f-Q)),Q=C,(i.flags?B:p(B))!==i.check){e.msg="incorrect data check",i.mode=g;break}B=0,E=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;E<32;){if(0===m)break e;m--,B+=h[I++]<<E,E+=8}if(B!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=g;break}B=0,E=0}i.mode=29;case 29:G=1;break e;case g:G=-3;break e;case 31:return-4;default:return l}return e.next_out=f,e.avail_out=C,e.next_in=I,e.avail_in=m,i.hold=B,i.bits=E,(i.wsize||Q!==e.avail_out&&i.mode<g&&(i.mode<27||4!==t))&&b(e,e.output,e.next_out,Q-e.avail_out)?(i.mode=31,-4):(y-=e.avail_in,Q-=e.avail_out,e.total_in+=y,e.total_out+=Q,i.total+=Q,i.wrap&&Q&&(e.adler=i.check=i.flags?r(i.check,u,Q,e.next_out-Q):s(i.check,u,Q,e.next_out-Q)),e.data_type=i.bits+(i.last?64:0)+(i.mode===c?128:0)+(20===i.mode||15===i.mode?256:0),(0===y&&0===Q||4===t)&&G===n&&(G=-5),G)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,n},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?l:(i.head=t,t.done=!1,n):l},t.inflateSetDictionary=function(e,t){var i,A=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?l:11===i.mode&&s(1,t,A,0)!==i.check?-3:b(e,t,A,A)?(i.mode=31,-4):(i.havedict=1,n):l},t.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/inftrees.js":(e,t,i)=>{"use strict";var A=i("./node_modules/pako/lib/utils/common.js"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,n,l,d,c,g){var h,u,p,I,f,m,C,B,E,y=g.bits,Q=0,w=0,b=0,_=0,v=0,x=0,T=0,k=0,D=0,L=0,N=null,F=0,S=new A.Buf16(16),G=new A.Buf16(16),j=null,M=0;for(Q=0;Q<=15;Q++)S[Q]=0;for(w=0;w<n;w++)S[t[i+w]]++;for(v=y,_=15;_>=1&&0===S[_];_--);if(v>_&&(v=_),0===_)return l[d++]=20971520,l[d++]=20971520,g.bits=1,0;for(b=1;b<_&&0===S[b];b++);for(v<b&&(v=b),k=1,Q=1;Q<=15;Q++)if(k<<=1,(k-=S[Q])<0)return-1;if(k>0&&(0===e||1!==_))return-1;for(G[1]=0,Q=1;Q<15;Q++)G[Q+1]=G[Q]+S[Q];for(w=0;w<n;w++)0!==t[i+w]&&(c[G[t[i+w]]++]=w);if(0===e?(N=j=c,m=19):1===e?(N=s,F-=257,j=r,M-=257,m=256):(N=a,j=o,m=-1),L=0,w=0,Q=b,f=d,x=v,T=0,p=-1,I=(D=1<<v)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){C=Q-T,c[w]<m?(B=0,E=c[w]):c[w]>m?(B=j[M+c[w]],E=N[F+c[w]]):(B=96,E=0),h=1<<Q-T,b=u=1<<x;do{l[f+(L>>T)+(u-=h)]=C<<24|B<<16|E|0}while(0!==u);for(h=1<<Q-1;L&h;)h>>=1;if(0!==h?(L&=h-1,L+=h):L=0,w++,0==--S[Q]){if(Q===_)break;Q=t[i+c[w]]}if(Q>v&&(L&I)!==p){for(0===T&&(T=v),f+=b,k=1<<(x=Q-T);x+T<_&&!((k-=S[x+T])<=0);)x++,k<<=1;if(D+=1<<x,1===e&&D>852||2===e&&D>592)return 1;l[p=L&I]=v<<24|x<<16|f-d|0}}return 0!==L&&(l[f+L]=Q-T<<24|64<<16|0),g.bits=v,0}},"./node_modules/pako/lib/zlib/messages.js":e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/pako/lib/zlib/trees.js":(e,t,i)=>{"use strict";var A=i("./node_modules/pako/lib/utils/common.js");function s(e){for(var t=e.length;--t>=0;)e[t]=0}var r=256,a=286,o=30,n=15,l=16,d=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);s(u);var p=new Array(60);s(p);var I=new Array(512);s(I);var f=new Array(256);s(f);var m=new Array(29);s(m);var C,B,E,y=new Array(o);function Q(e,t,i,A,s){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=A,this.max_length=s,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?I[e]:I[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function v(e,t,i){e.bi_valid>l-i?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>l-e.bi_valid,e.bi_valid+=i-l):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function x(e,t,i){v(e,i[2*t],i[2*t+1])}function T(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function k(e,t,i){var A,s,r=new Array(n+1),a=0;for(A=1;A<=n;A++)r[A]=a=a+i[A-1]<<1;for(s=0;s<=t;s++){var o=e[2*s+1];0!==o&&(e[2*s]=T(r[o]++,o))}}function D(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<o;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function L(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function N(e,t,i,A){var s=2*t,r=2*i;return e[s]<e[r]||e[s]===e[r]&&A[t]<=A[i]}function F(e,t,i){for(var A=e.heap[i],s=i<<1;s<=e.heap_len&&(s<e.heap_len&&N(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!N(t,A,e.heap[s],e.depth));)e.heap[i]=e.heap[s],i=s,s<<=1;e.heap[i]=A}function S(e,t,i){var A,s,a,o,n=0;if(0!==e.last_lit)do{A=e.pending_buf[e.d_buf+2*n]<<8|e.pending_buf[e.d_buf+2*n+1],s=e.pending_buf[e.l_buf+n],n++,0===A?x(e,s,t):(x(e,(a=f[s])+r+1,t),0!==(o=d[a])&&v(e,s-=m[a],o),x(e,a=b(--A),i),0!==(o=c[a])&&v(e,A-=y[a],o))}while(n<e.last_lit);x(e,256,t)}function G(e,t){var i,A,s,r=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<l;i++)0!==r[2*i]?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(s=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[s]=0,e.opt_len--,o&&(e.static_len-=a[2*s+1]);for(t.max_code=d,i=e.heap_len>>1;i>=1;i--)F(e,r,i);s=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],F(e,r,1),A=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=A,r[2*s]=r[2*i]+r[2*A],e.depth[s]=(e.depth[i]>=e.depth[A]?e.depth[i]:e.depth[A])+1,r[2*i+1]=r[2*A+1]=s,e.heap[1]=s++,F(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,A,s,r,a,o,l=t.dyn_tree,d=t.max_code,c=t.stat_desc.static_tree,g=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,p=t.stat_desc.max_length,I=0;for(r=0;r<=n;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(r=l[2*l[2*(A=e.heap[i])+1]+1]+1)>p&&(r=p,I++),l[2*A+1]=r,A>d||(e.bl_count[r]++,a=0,A>=u&&(a=h[A-u]),o=l[2*A],e.opt_len+=o*(r+a),g&&(e.static_len+=o*(c[2*A+1]+a)));if(0!==I){do{for(r=p-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[p]--,I-=2}while(I>0);for(r=p;0!==r;r--)for(A=e.bl_count[r];0!==A;)(s=e.heap[--i])>d||(l[2*s+1]!==r&&(e.opt_len+=(r-l[2*s+1])*l[2*s],l[2*s+1]=r),A--)}}(e,t),k(r,d,e.bl_count)}function j(e,t,i){var A,s,r=-1,a=t[1],o=0,n=7,l=4;for(0===a&&(n=138,l=3),t[2*(i+1)+1]=65535,A=0;A<=i;A++)s=a,a=t[2*(A+1)+1],++o<n&&s===a||(o<l?e.bl_tree[2*s]+=o:0!==s?(s!==r&&e.bl_tree[2*s]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,r=s,0===a?(n=138,l=3):s===a?(n=6,l=3):(n=7,l=4))}function M(e,t,i){var A,s,r=-1,a=t[1],o=0,n=7,l=4;for(0===a&&(n=138,l=3),A=0;A<=i;A++)if(s=a,a=t[2*(A+1)+1],!(++o<n&&s===a)){if(o<l)do{x(e,s,e.bl_tree)}while(0!=--o);else 0!==s?(s!==r&&(x(e,s,e.bl_tree),o--),x(e,16,e.bl_tree),v(e,o-3,2)):o<=10?(x(e,17,e.bl_tree),v(e,o-3,3)):(x(e,18,e.bl_tree),v(e,o-11,7));o=0,r=s,0===a?(n=138,l=3):s===a?(n=6,l=3):(n=7,l=4)}}s(y);var R=!1;function O(e,t,i,s){v(e,0+(s?1:0),3),function(e,t,i,s){L(e),_(e,i),_(e,~i),A.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}t._tr_init=function(e){R||(function(){var e,t,i,A,s,r=new Array(n+1);for(i=0,A=0;A<28;A++)for(m[A]=i,e=0;e<1<<d[A];e++)f[i++]=A;for(f[i-1]=A,s=0,A=0;A<16;A++)for(y[A]=s,e=0;e<1<<c[A];e++)I[s++]=A;for(s>>=7;A<o;A++)for(y[A]=s<<7,e=0;e<1<<c[A]-7;e++)I[256+s++]=A;for(t=0;t<=n;t++)r[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,r[8]++;for(;e<=255;)u[2*e+1]=9,e++,r[9]++;for(;e<=279;)u[2*e+1]=7,e++,r[7]++;for(;e<=287;)u[2*e+1]=8,e++,r[8]++;for(k(u,287,r),e=0;e<o;e++)p[2*e+1]=5,p[2*e]=T(e,5);C=new Q(u,d,257,a,n),B=new Q(p,c,0,o,n),E=new Q(new Array(0),g,0,19,7)}(),R=!0),e.l_desc=new w(e.dyn_ltree,C),e.d_desc=new w(e.dyn_dtree,B),e.bl_desc=new w(e.bl_tree,E),e.bi_buf=0,e.bi_valid=0,D(e)},t._tr_stored_block=O,t._tr_flush_block=function(e,t,i,A){var s,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<r;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),G(e,e.l_desc),G(e,e.d_desc),o=function(e){var t;for(j(e,e.dyn_ltree,e.l_desc.max_code),j(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=s&&(s=a)):s=a=i+5,i+4<=s&&-1!==t?O(e,t,i,A):4===e.strategy||a===s?(v(e,2+(A?1:0),3),S(e,u,p)):(v(e,4+(A?1:0),3),function(e,t,i,A){var s;for(v(e,t-257,5),v(e,i-1,5),v(e,A-4,4),s=0;s<A;s++)v(e,e.bl_tree[2*h[s]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),S(e,e.dyn_ltree,e.dyn_dtree)),D(e),A&&L(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(f[i]+r+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){v(e,2,3),x(e,256,u),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},"./node_modules/pako/lib/zlib/zstream.js":e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},"./node_modules/strnum/strnum.js":e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,i=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const A={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,s={}){if(s=Object.assign({},A,s),!e||"string"!=typeof e)return e;let r=e.trim();if(void 0!==s.skipLike&&s.skipLike.test(r))return e;if(s.hex&&t.test(r))return Number.parseInt(r,16);{const t=i.exec(r);if(t){const i=t[1],A=t[2];let o=(a=t[3])&&-1!==a.indexOf(".")?("."===(a=a.replace(/0+$/,""))?a="0":"."===a[0]?a="0"+a:"."===a[a.length-1]&&(a=a.substr(0,a.length-1)),a):a;const n=t[4]||t[6];if(!s.leadingZeros&&A.length>0&&i&&"."!==r[2])return e;if(!s.leadingZeros&&A.length>0&&!i&&"."!==r[1])return e;{const t=Number(r),a=""+t;return-1!==a.search(/[eE]/)||n?s.eNotation?t:e:-1!==r.indexOf(".")?"0"===a&&""===o||a===o||i&&a==="-"+o?t:e:A?o===a||i+o===a?t:e:r===a||r===i+a?t:e}}return e}var a}},"./src/deprecated.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{FLIPPED_DIAGONALLY_FLAG:()=>A.FLIPPED_DIAGONALLY_FLAG,FLIPPED_HORIZONTALLY_FLAG:()=>A.FLIPPED_HORIZONTALLY_FLAG,FLIPPED_VERTICALLY_FLAG:()=>A.FLIPPED_VERTICALLY_FLAG,TiledEntity:()=>A.TiledEntity,TiledLayer:()=>A.TiledLayer,TiledLayerComponent:()=>A.TiledLayerComponent,TiledMap:()=>A.TiledMap,TiledMapFormat:()=>A.TiledMapFormat,TiledMapResource:()=>A.TiledMapResource,TiledObject:()=>A.TiledObject,TiledObjectComponent:()=>A.TiledObjectComponent,TiledObjectGroup:()=>A.TiledObjectGroup,TiledTileset:()=>A.TiledTileset,TiledTilesetTile:()=>A.TiledTilesetTile,getCanonicalGid:()=>A.getCanonicalGid,getProperty:()=>A.getProperty,isFlippedDiagonally:()=>A.isFlippedDiagonally,isFlippedHorizontally:()=>A.isFlippedHorizontally,isFlippedVertically:()=>A.isFlippedVertically,parseExternalJson:()=>A.parseExternalJson,parseExternalTsx:()=>A.parseExternalTsx});var A=i("./src/deprecated/index.ts")},"./src/deprecated/index.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{FLIPPED_DIAGONALLY_FLAG:()=>a.FLIPPED_DIAGONALLY_FLAG,FLIPPED_HORIZONTALLY_FLAG:()=>a.FLIPPED_HORIZONTALLY_FLAG,FLIPPED_VERTICALLY_FLAG:()=>a.FLIPPED_VERTICALLY_FLAG,TiledEntity:()=>r.TiledEntity,TiledLayer:()=>a.TiledLayer,TiledLayerComponent:()=>d.TiledLayerComponent,TiledMap:()=>s.TiledMap,TiledMapFormat:()=>A.TiledMapFormat,TiledMapResource:()=>A.TiledMapResource,TiledObject:()=>o.TiledObject,TiledObjectComponent:()=>l.TiledObjectComponent,TiledObjectGroup:()=>o.TiledObjectGroup,TiledTileset:()=>n.TiledTileset,TiledTilesetTile:()=>n.TiledTilesetTile,getCanonicalGid:()=>a.getCanonicalGid,getProperty:()=>r.getProperty,isFlippedDiagonally:()=>a.isFlippedDiagonally,isFlippedHorizontally:()=>a.isFlippedHorizontally,isFlippedVertically:()=>a.isFlippedVertically,parseExternalJson:()=>n.parseExternalJson,parseExternalTsx:()=>n.parseExternalTsx}),i("./src/deprecated/tiled-types.ts");var A=i("./src/deprecated/tiled-map-resource.ts"),s=i("./src/deprecated/tiled-map-parser.ts"),r=i("./src/deprecated/tiled-entity.ts"),a=i("./src/deprecated/tiled-layer.ts"),o=i("./src/deprecated/tiled-object.ts"),n=i("./src/deprecated/tiled-tileset.ts"),l=i("./src/deprecated/tiled-object-component.ts"),d=i("./src/deprecated/tiled-layer-component.ts");i("./src/deprecated/raw-tiled-layer.ts"),i("./src/deprecated/raw-tiled-map.ts"),i("./src/deprecated/raw-tiled-object.ts"),i("./src/deprecated/raw-tiled-text.ts"),i("./src/deprecated/raw-tiled-tileset.ts"),i("./src/deprecated/raw-tileset-tile.ts")},"./src/deprecated/raw-tiled-layer.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/deprecated/raw-tiled-map.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/deprecated/raw-tiled-object.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/deprecated/raw-tiled-text.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/deprecated/raw-tiled-tileset.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/deprecated/raw-tileset-tile.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/deprecated/tiled-entity.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledEntity:()=>s,getProperty:()=>A});const A=(e,t)=>{if(Array.isArray(e))return null==e?void 0:e.filter((e=>{var i;return(null===(i=e.name)||void 0===i?void 0:i.toLocaleLowerCase())===t.toLocaleLowerCase()}))[0]};class s{constructor(){this.properties=[]}getProperty(e){return A(this.properties,e)}}},"./src/deprecated/tiled-layer-component.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledLayerComponent:()=>s});var A=i("excalibur");class s extends A.Component{constructor(e){super(),this.layer=e,this.type="ex.tiledlayer"}}},"./src/deprecated/tiled-layer.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{FLIPPED_DIAGONALLY_FLAG:()=>o,FLIPPED_HORIZONTALLY_FLAG:()=>r,FLIPPED_VERTICALLY_FLAG:()=>a,TiledLayer:()=>g,getCanonicalGid:()=>c,isFlippedDiagonally:()=>d,isFlippedHorizontally:()=>n,isFlippedVertically:()=>l});var A=i("./src/deprecated/tiled-entity.ts"),s=i("excalibur");const r=2147483648,a=1073741824,o=536870912,n=e=>!!(e&r),l=e=>!!(e&a),d=e=>!!(e&o),c=e=>e&~(r|a|o);class g extends A.TiledEntity{constructor(){super(...arguments),this.offset=s.Vector.Zero,this.parallaxFactor=null,this.encoding="csv"}static parse(e){var t,i,A,r,a,o;if("tilelayer"!==e.type)throw Error("Cannot parse a non tilelayer type layer");const n=new g;return n.id=+e.id,n.name=e.name,n.data=e.data,n.offset=(0,s.vec)(null!==(t=e.offsetx)&&void 0!==t?t:0,null!==(i=e.offsety)&&void 0!==i?i:0),n.parallaxFactor=e.parallaxx||e.parallaxy?(0,s.vec)(null!==(A=e.parallaxx)&&void 0!==A?A:1,null!==(r=e.parallaxy)&&void 0!==r?r:1):null,n.width=e.width,n.height=e.height,n.encoding=null!==(a=e.encoding)&&void 0!==a?a:"csv",n.compression=e.compression,n.order=e.order,n.properties=null!==(o=e.properties)&&void 0!==o?o:[],n.rawLayer=e,n}}},"./src/deprecated/tiled-map-parser.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledMap:()=>l});var A=i("./node_modules/fast-xml-parser/src/parser.js"),s=i("./node_modules/pako/index.js"),r=i("./node_modules/zstddec/dist/zstddec.modern.js"),a=i("./src/deprecated/tiled-layer.ts"),o=i("./src/deprecated/tiled-object.ts"),n=i("./src/deprecated/tiled-tileset.ts");class l{constructor(){this.layers=[],this.tileSets=[],this.objectGroups=[]}getExcaliburObjects(){return this.getObjectLayerByProperty("excalibur",!0)}getObjects(){var e;return null!==(e=this.objectGroups.filter((e=>{var t;return!(null===(t=e.getProperty("excalibur-exclude"))||void 0===t?void 0:t.value)})))&&void 0!==e?e:[]}getObjectLayerByName(e){return this.objectGroups.filter((t=>t.name===e))[0]}getObjectLayerByProperty(e,t){return this.objectGroups.filter((i=>{var A;return(null===(A=i.getProperty(e))||void 0===A?void 0:A.value)===t}))}getTileLayerByName(e){return this.layers.filter((t=>t.name===e))[0]}getTileLayersByProperty(e,t){return this.layers.filter((i=>{var A;return(null===(A=i.getProperty(e))||void 0===A?void 0:A.value)===t}))}static async fromTmx(e){var t,i,s,r,a,o,n,d,c,g,h,u,p,I,f,m;const C=(e,t,i=!1)=>{e[t]?(e[t+(i?"s":"")]=Array.isArray(e[t])?e[t]:[e[t]],i&&delete e[t]):e[t+(i?"s":"")]=[]},B=A.parse(e,{attributeNamePrefix:"",textNodeName:"#text",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!0,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0,parseTrueNumberOnly:!1,arrayMode:!1,stopNodes:["parse-me-as-string"]}).map;C(B,"layer",!0);for(let e of B.layers)e.type=null!==(t=e.type)&&void 0!==t?t:"tilelayer",e.encoding=e.data.encoding,e.compression=e.data.compression,"csv"===e.encoding?e.data=e.data["#text"].split(",").map((e=>+e)):e.data=e.data["#text"],e.properties=null!==(s=null===(i=e.properties)||void 0===i?void 0:i.property)&&void 0!==s?s:[],C(e,"properties");B.objectgroup=null!==(r=B.objectgroup)&&void 0!==r?r:[];let E=Array.isArray(B.objectgroup)?B.objectgroup:[B.objectgroup];for(let e of E)if(e.type=null!==(a=e.type)&&void 0!==a?a:"objectgroup",e.properties=null!==(n=null===(o=e.properties)||void 0===o?void 0:o.property)&&void 0!==n?n:[],C(e,"properties"),e.object){e.objects=Array.isArray(e.object)?e.object:[e.object],e.objects.forEach((e=>{var t,i;return e.properties=null!==(i=null===(t=e.properties)||void 0===t?void 0:t.property)&&void 0!==i?i:[]})),e.objects.forEach((e=>C(e,"properties"))),delete e.object;for(let t of e.objects)t.text&&(t.text.text=t.text["#text"],t.text.halign=null!==(d=t.text.halign)&&void 0!==d?d:"left",t.text.valign=null!==(c=t.text.valign)&&void 0!==c?c:"top",t.text.fontfamily=null!==(g=t.text.fontfamily)&&void 0!==g?g:"sans-serif",t.text.pixelsize=+(null!==(h=t.text.pixelsize)&&void 0!==h?h:16),t.text.kerning=!!t.text.kerning,t.text.italic=!!t.text.italic,t.text.bold=!!t.text.bold,t.text.underline=!!t.text.underline,t.text.strikeout=!!t.text.strikeout,t.text.color=null!==(u=t.text.color)&&void 0!==u?u:"#000000"),""===t.point&&(t.point=!0),""===t.ellipse&&(t.ellipse=!0),t.polyline&&(t.polyline=t.polyline.points.split(" ").map((e=>{const t=e.split(",");return{x:+t[0],y:+t[1]}}))),t.polygon&&(t.polygon=t.polygon.points.split(" ").map((e=>{const t=e.split(",");return{x:+t[0],y:+t[1]}})));B.layers.push(e)}delete B.objectgroup,C(B,"imagelayer",!0);for(let e of B.imagelayers)e.type=null!==(p=e.type)&&void 0!==p?p:"imagelayer",e.image=e.image.source,e.properties=null!==(f=null===(I=e.properties)||void 0===I?void 0:I.property)&&void 0!==f?f:[],C(e,"properties"),B.layers.push(e);delete B.imagelayer,C(B,"tileset",!0);for(let e of B.tilesets)e.source||(e.image&&(e.imagewidth=e.image.width,e.imageheight=e.image.height,e.image=e.image.source),e.objectalignment=null!==(m=e.objectalignment)&&void 0!==m?m:"unspecified",C(e,"tile",!0),e.tiles.forEach((e=>{var t;(null===(t=e.image)||void 0===t?void 0:t.source)&&(e.image=e.image.source),e.objectgroup&&(e.objectgroup.type="objectgroup",C(e.objectgroup,"object",!0))})));return await l._fromRawTiledMap(B)}static async fromJson(e){return await l._fromRawTiledMap(e)}static async _fromRawTiledMap(e){await l._decompresslayers(e);const t=new l;t.orientation=e.orientation,t.rawMap=e,t.width=+e.width,t.height=+e.height,t.tileWidth=+e.tilewidth,t.tileHeight=+e.tileheight,d(e);for(let i of e.layers)"tilelayer"==i.type&&t.layers.push(a.TiledLayer.parse(i)),"objectgroup"==i.type&&t.objectGroups.push(o.TiledObjectGroup.parse(i));for(let i of e.tilesets)i.source||t.tileSets.push(n.TiledTileset.parse(i));return t}static async _decompresslayers(e){var t;if(e.layers)for(var i of e.layers)"string"==typeof i.data?"base64"===i.encoding&&(i.data=await c.decompressBase64(i.data,i.encoding,null!==(t=i.compression)&&void 0!==t?t:"")):i.data=c.decompressCsv(i.data);return e}}const d=e=>{let t=0;for(let i of e.layers)i.order=t++},c={decompressCsv:e=>e,decompressBase64:(e,t,i)=>{var A,a,o,n,l,d;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c="+".charCodeAt(0),g="/".charCodeAt(0),h="0".charCodeAt(0),u="a".charCodeAt(0),p="A".charCodeAt(0),I="-".charCodeAt(0),f="_".charCodeAt(0);function m(e){var t=e.charCodeAt(0);if(t===c||t===I)return 62;if(t===g||t===f)return 63;if(t<h)return-1;if(t<h+10)return t-h+26+26;if(t<p+26)return t-p;if(t<u+26)return t-u+26;throw Error("Could not decode elt")}var C=e.length;l="="===e.charAt(C-2)?2:"="===e.charAt(C-1)?1:0,d=new Uint8Array(3*e.length/4-l),o=l>0?e.length-4:e.length;var B=0;function E(e){d[B++]=e}for(A=0,a=0;A<o;A+=4,a+=3)E((16711680&(n=m(e.charAt(A))<<18|m(e.charAt(A+1))<<12|m(e.charAt(A+2))<<6|m(e.charAt(A+3))))>>16),E((65280&n)>>8),E(255&n);return 2===l?E(255&(n=m(e.charAt(A))<<2|m(e.charAt(A+1))>>4)):1===l&&(E((n=m(e.charAt(A))<<10|m(e.charAt(A+1))<<4|m(e.charAt(A+2))>>2)>>8&255),E(255&n)),new Promise((e=>{const t=function(e){for(var t=0,i=e.length-1;i>=0;i--)t=256*t+1*e[i];return t};if("zlib"===i||"gzip"===i){var a=(d=(0,s.inflate)(d)).length/4,o=new Array(a);for(A=0;A<a;A++)o[A]=t(d.slice(4*A,4*A+4));e(o)}if("zstd"===i){const i=new r.ZSTDDecoder;i.init().then((()=>{var s=(d=i.decode(d)).length/4,r=new Array(s);for(A=0;A<s;A++)r[A]=t(d.slice(4*A,4*A+4));e(r)}))}if(!i){for(a=d.length/4,o=new Array(a),A=0;A<a;A++)o[A]=t(d.slice(4*A,4*A+4));e(o)}}))}}},"./src/deprecated/tiled-map-resource.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledMapFormat:()=>A,TiledMapResource:()=>c});var A,s=i("excalibur"),r=i("./src/deprecated/tiled-map-parser.ts"),a=i("./src/deprecated/tiled-tileset.ts"),o=i("./src/deprecated/tiled-layer.ts"),n=i("./src/deprecated/tiled-entity.ts"),l=i("./src/deprecated/tiled-object-component.ts"),d=i("./src/deprecated/tiled-layer-component.ts");!function(e){e.TMX="TMX",e.JSON="JSON"}(A||(A={}));class c{constructor(e,t){this.path=e,this.layers=[],this.isoLayers=[],this._layerZIndexStart=-1,this._mapToRawLayer=new Map;const{mapFormatOverride:i,startingLayerZIndex:r}={...t};this._layerZIndexStart=null!=r?r:this._layerZIndexStart;const a=null!=i?i:e.includes(".tmx")?A.TMX:A.JSON;switch(a){case A.TMX:this._resource=new s.Resource(e,"text");break;case A.JSON:this._resource=new s.Resource(e,"json");break;default:throw`The format ${a} is not currently supported. Please export Tiled map as JSON.`}this.mapFormat=a,this.ex={},this.imageMap={},this.sheetMap={},this.tileImageMap={},this.convertPath=(e,t)=>{if(0===t.indexOf("/"))return t;const i=e.split("/"),A=t.split("/");return i[i.length-1].includes(".")&&i.pop(),i.concat(A).join("/")}}_addTiledCamera(e){const t=this.ex.camera;if(t){let i=(0,s.vec)(t.x,t.y);this.isIsometric()&&(i=this._isoTileToScreenCoords(t.x,t.y)),e.camera.x=i.x,e.camera.y=i.y,e.camera.zoom=t.zoom}}_addTiledColliders(e){var t;const i=this.ex.colliders;if(i)for(let A of i){const i=new s.Actor({pos:(0,s.vec)(A.x,A.y),name:A.name,collisionType:null!==(t=A.collisionType)&&void 0!==t?t:s.CollisionType.Fixed});if(A.color&&(i.color=s.Color.fromHex(A.color.value)),"box"===A.type)if(this.isIsometric()){i.pos=this._isoTileToScreenCoords(A.x,A.y);const e=new s.BoundingBox({left:0,top:0,right:A.width,bottom:A.height}).getPoints().map((e=>this._isoTileToScreenCoords(e.x,e.y)));i.collider.usePolygonCollider(e,s.Vector.Zero)}else i.collider.useBoxCollider(A.width,A.height,s.Vector.Zero);"circle"===A.type&&i.collider.useCircleCollider(A.radius),i.addComponent(new l.TiledObjectComponent(A.tiled)),e.add(i),A.zIndex&&(i.z=A.zIndex)}}_isoTileToScreenCoords(e,t){if(this.isIsometric()){const i=this.isoLayers[0],A=i.tileWidth,r=i.tileHeight,a=0,o=t/r,n=e/r;return(0,s.vec)((n-o)*A/2+a,(n+o)*r/2)}return(0,s.vec)(e,t)}_addTiledText(e){var t,i,A,r,a,o,n,d,c,g,h,u;const p=null===(t=this.data)||void 0===t?void 0:t.getObjects();if(p&&p.length>0)for(const t of p){const p=t.getText();for(const I of p){let p=(0,s.vec)(I.x,I.y+((null!==(i=I.height)&&void 0!==i?i:0)-(null!==(r=null===(A=I.text)||void 0===A?void 0:A.pixelSize)&&void 0!==r?r:0)));this.isIsometric()&&(p=this._isoTileToScreenCoords(I.x,I.y));const f=new s.Label({anchor:s.Vector.Zero,x:p.x,y:p.y,text:null!==(o=null===(a=I.text)||void 0===a?void 0:a.text)&&void 0!==o?o:"",name:this._getEntityName(I),font:new s.Font({family:null===(n=I.text)||void 0===n?void 0:n.fontFamily,size:null===(d=I.text)||void 0===d?void 0:d.pixelSize,unit:s.FontUnit.Px})});if(f.font.textAlign=s.TextAlign.Left,f.font.baseAlign=s.BaseAlign.Top,f.rotation=I.rotation,f.color=s.Color.fromHex(null!==(g=null===(c=I.text)||void 0===c?void 0:c.color)&&void 0!==g?g:"#000000"),f.collider.set(s.Shape.Box(null!==(h=I.width)&&void 0!==h?h:0,null!==(u=I.height)&&void 0!==u?u:0)),f.body.collisionType=s.CollisionType.PreventCollision,f.addComponent(new l.TiledObjectComponent(I)),f.z=this._calculateZIndex(I,t),this.isIsometric()){const e=new s.IsometricEntityComponent(this.isoLayers[0]);f.addComponent(e),e.elevation=t.order}e.add(f)}}}_addTiledInsertedTiles(e){var t,i,A;const r=null===(t=this.data)||void 0===t?void 0:t.getObjects();if(r&&r.length>0)for(const t of r){const r=t.getInsertedTiles();for(const a of r){const r=a.getProperty("collisionType");let o=s.CollisionType.PreventCollision;r&&(o=r.value);let n=(0,s.vec)(a.x,a.y);if(this.isIsometric()&&(n=this._isoTileToScreenCoords(a.x,a.y)),a.gid){const r=this.getSpriteForGid(a.gid),d=this.getCollidersForGid(a.gid),c=new s.Actor({x:n.x,y:n.y,width:a.width,height:a.height,anchor:this.isIsometric()?(0,s.vec)(.5,1):(0,s.vec)(0,1),rotation:a.rotation,collisionType:o,name:this._getEntityName(a)});if(this.isIsometric()){const e=this.isoLayers[0];for(let t of d)t.offset=(0,s.vec)(-e.tileWidth/2,2*-e.tileHeight)}if(d.length&&(c.collider.clear(),c.collider.set(new s.CompositeCollider(d))),c.addComponent(new l.TiledObjectComponent(a)),c.graphics.anchor=this.isIsometric()?(0,s.vec)(.5,1):(0,s.vec)(0,1),r.destSize.width=null!==(i=a.width)&&void 0!==i?i:r.destSize.width,r.destSize.height=null!==(A=a.height)&&void 0!==A?A:r.destSize.height,c.graphics.use(r),this.isIsometric()){const e=new s.IsometricEntityComponent(this.isoLayers[0]);c.addComponent(e),e.elevation=t.order}e.add(c),c.z=this._calculateZIndex(a,t)}}}}useSolidLayers(){var e,t,i;let A=this.getTileMapLayers();A=A.concat(this.isoLayers);for(const s of A){const A=this._mapToRawLayer.get(s);if(A&&null!==(t=null===(e=(0,n.getProperty)(A.properties,"solid"))||void 0===e?void 0:e.value)&&void 0!==t&&t)for(let e=0;e<A.data.length;e++)(i=s.tiles[e]).solid||(i.solid=!!A.data[e])}}addTiledMapToScene(e){const t=this.getTileMapLayers();for(const i of t)e.add(i);for(const t of this.isoLayers)e.add(t);this._addTiledCamera(e),this._addTiledColliders(e),this._addTiledText(e),this._addTiledInsertedTiles(e),this.useSolidLayers()}_parseExcaliburInfo(){var e,t,i,A,r,a,o,n,l,d;const c=null===(e=this.data)||void 0===e?void 0:e.getObjects(),g={};if(c.length>0){g.camera=null===(t=c.find((e=>e.getObjectByClass("camera"))))||void 0===t?void 0:t.getCamera(),g.colliders=[];for(let e of c){const t=e.getObjectsByClass("boxcollider");for(let a of t){const t=a.getProperty("collisiontype"),o=a.getProperty("color"),n=this._calculateZIndex(a,e);g.colliders.push({...a,width:+(null!==(i=a.width)&&void 0!==i?i:0),height:+(null!==(A=a.height)&&void 0!==A?A:0),collisionType:null!==(r=null==t?void 0:t.value)&&void 0!==r?r:s.CollisionType.Fixed,color:o,zIndex:n,radius:0,type:"box",tiled:a,name:this._getEntityName(a)})}const c=e.getObjectsByClass("circlecollider");for(let t of c){const i=t.getProperty("collisiontype"),A=t.getProperty("color"),r=this._calculateZIndex(t,e);g.colliders.push({x:t.x,y:t.y,radius:Math.max(null!==(a=t.width)&&void 0!==a?a:0,null!==(o=t.height)&&void 0!==o?o:0),collisionType:null!==(n=null==i?void 0:i.value)&&void 0!==n?n:s.CollisionType.Fixed,color:A,zIndex:r,width:null!==(l=t.width)&&void 0!==l?l:0,height:null!==(d=t.height)&&void 0!==d?d:0,type:"circle",tiled:t,name:this._getEntityName(t)})}}}this.ex=g}isLoaded(){return!!this.data}isIsometric(){return!!this.isoLayers.length}async load(){const e=await this._resource.load(),t=await this._importMapData(e);let i=[];return t.rawMap.tilesets.forEach((e=>{if(e.source){const r=e.source.includes(".tsx")?"text":"json";var A=new s.Resource(this.convertPath(this.path,e.source),r);i.push(A.load().then((i=>{i="text"===r?(0,a.parseExternalTsx)(i,e.firstgid,e.source):(0,a.parseExternalJson)(i,e.firstgid,e.source),Object.assign(e,i),t.tileSets.push(i)}),(()=>{s.Logger.getInstance().error(`[Tiled] Error loading external tileset file ${A.path}`)})))}})),await Promise.all(i).then((()=>{let e=[];return t.rawMap.tilesets.forEach((t=>{let i=[];if(t.image){i=t.source?[this.convertPath(t.source,t.image)]:[this.convertPath(this.path,t.image)];for(let A of i){const i=new s.ImageSource(A);this.imageMap[t.firstgid]=i,e.push(i.load()),s.Logger.getInstance().debug("[Tiled] Loading associated tileset image: "+t.image)}}else for(let i of t.tiles){let A;A=t.source?this.convertPath(t.source,i.image):this.convertPath(this.path,i.image);const r=new s.ImageSource(A);e.push(r.load()),this.tileImageMap[t.firstgid]||(this.tileImageMap[t.firstgid]=[]),this.tileImageMap[t.firstgid].push([i,r]),s.Logger.getInstance().debug("[Tiled] Loading associated tileset image: "+A)}})),Promise.all(e).then((()=>{this._createTileMap()}),(()=>{s.Logger.getInstance().error("[Tiled] Error loading tileset images")}))})),this._parseExcaliburInfo(),t}async _importMapData(e){if(void 0===e)throw`Tiled map resource ${this.path} is empty`;switch(this.mapFormat){case A.TMX:return this.data=await r.TiledMap.fromTmx(e);case A.JSON:return this.data=await r.TiledMap.fromJson(e);default:throw new Error("Unknown map format: "+this.mapFormat)}}getTilesetForTile(e){if(this.data)for(var t=this.data.tileSets.length-1;t>=0;t--){var i=this.data.tileSets[t];if(e>=i.firstGid&&e<=i.firstGid+i.tileCount-1)return i}throw Error(`No tileset exists for tiled gid [${e}]!`)}getSpriteForGid(e){const t=(0,o.isFlippedHorizontally)(e),i=(0,o.isFlippedVertically)(e),A=(0,o.isFlippedDiagonally)(e),r=(0,o.getCanonicalGid)(e),a=this.getTilesetForTile(r),n=r-a.firstGid,l=this.sheetMap[a.firstGid.toString()];if(l){let e=l.sprites[n];return(A||t||i)&&(e=e.clone()),A&&(e.rotation=-Math.PI/2,e.scale=(0,s.vec)(-1,1)),t&&(e.scale=(0,s.vec)((A?1:-1)*e.scale.x,(A?-1:1)*e.scale.y)),i&&(e.scale=(0,s.vec)((A?-1:1)*e.scale.x,(A?1:-1)*e.scale.y)),e}throw new Error(`Could not find sprite for gid: [${e}] normalized gid: [${r}]`)}_transformPoints(e,t,i){const A=(0,o.isFlippedHorizontally)(i),s=(0,o.isFlippedVertically)(i);return(0,o.isFlippedDiagonally)(i)&&(e=e.map((e=>t.diagonalFlipTransform.multiply(e)))),A&&(e=e.map((e=>t.horizontalFlipTransform.multiply(e)))),s&&(e=e.map((e=>t.verticalFlipTransform.multiply(e)))),e}getCollidersForGid(e){const t=(0,o.getCanonicalGid)(e),i=this.getTilesetForTile(t),A=t-i.firstGid,r=i.tiles.find((e=>e.id===A));if(r&&r.objectgroup){const t=[];for(const A of r.objectgroup.getPolygons()){const r=(0,s.vec)(A.x,A.y),a=A.polygon.points.split(" ").map((e=>{const t=e.split(",");return(0,s.vec)(Number.parseFloat(t[0]),Number.parseFloat(t[1])).add(r)})),o=s.Shape.Polygon(a);o.points=this._transformPoints(o.points,i,e),t.push(o)}for(const A of r.objectgroup.getBoxes()){const r=s.Shape.Box(A.width,A.height,s.Vector.Zero);r.points=r.points.map((e=>e.add((0,s.vec)(A.x,A.y)))),r.points=this._transformPoints(r.points,i,e),t.push(r)}for(const e of r.objectgroup.getEllipses()){const i=s.Shape.Circle(Math.min(e.width/2,e.height/2),(0,s.vec)(e.width/2,e.height/2).add((0,s.vec)(e.x,e.y)));t.push(i)}return t}return[]}getAnimationForGid(e){const t=(0,o.getCanonicalGid)(e),i=this.getTilesetForTile(t),A=t-i.firstGid,s=i.tiles.find((e=>e.id===A));return s&&s.hasAnimation()?s.getAnimation(this):null}_calculateZIndex(e,t){var i,A,s;let r=null!==(A=null===(i=e.getProperty("z"))||void 0===i?void 0:i.value)&&void 0!==A?A:null===(s=e.getProperty("zindex"))||void 0===s?void 0:s.value;return null!=r||(r=t.order+this._layerZIndexStart),+r}_getEntityName(e){return e.name}_createTileMap(){var e,t,i,A,r,a,o,n,l;for(const a of this.data.rawMap.tilesets){const o=null!==(e=a.spacing)&&void 0!==e?e:0,n=Math.floor((a.imagewidth+o)/(a.tilewidth+o)),l=Math.floor((a.imageheight+o)/(a.tileheight+o));if(this.imageMap[a.firstgid]){const e=s.SpriteSheet.fromImageSource({image:this.imageMap[a.firstgid],grid:{columns:n,rows:l,spriteWidth:a.tilewidth,spriteHeight:a.tileheight},spacing:{originOffset:{x:null!==(t=a.margin)&&void 0!==t?t:0,y:null!==(i=a.margin)&&void 0!==i?i:0},margin:{x:null!==(A=a.spacing)&&void 0!==A?A:0,y:null!==(r=a.spacing)&&void 0!==r?r:0}}});this.sheetMap[a.firstgid.toString()]=e}else{const e=this.tileImageMap[a.firstgid].map((([e,t])=>t.toSprite())),t=new s.SpriteSheet({sprites:e});this.sheetMap[a.firstgid.toString()]=t}}for(var c of this.data.layers)if("tilelayer"===c.rawLayer.type){if("orthogonal"===this.data.orientation){const e=c.rawLayer,t=new s.TileMap({name:c.rawLayer.name,pos:(0,s.vec)(c.offset.x,c.offset.y),tileWidth:this.data.rawMap.tilewidth,tileHeight:this.data.rawMap.tileheight,columns:this.data.width,rows:this.data.height});if(t.addComponent(new d.TiledLayerComponent(c)),c.rawLayer.parallaxx||c.rawLayer.parallaxy){const e=(0,s.vec)(null!==(a=c.rawLayer.parallaxx)&&void 0!==a?a:1,null!==(o=c.rawLayer.parallaxy)&&void 0!==o?o:1);t.addComponent(new s.ParallaxComponent(e))}t.z=this._calculateZIndex(c,c);for(let i=0;i<e.data.length;i++){let A=e.data[i];if(0!==A){const e=this.getSpriteForGid(A);t.tiles[i].addGraphic(e);const s=this.getCollidersForGid(A);for(let e of s)t.tiles[i].addCollider(e);const r=this.getAnimationForGid(A);r&&(t.tiles[i].clearGraphics(),t.tiles[i].addGraphic(r))}}this._mapToRawLayer.set(t,e),null===(n=this.layers)||void 0===n||n.push(t)}if("isometric"===this.data.orientation){const e=c.rawLayer,t=new s.IsometricMap({name:c.rawLayer.name,pos:(0,s.vec)(c.offset.x,c.offset.y),columns:this.data.width,rows:this.data.height,tileWidth:this.data.tileWidth,tileHeight:this.data.tileHeight}),i=t.get(s.TransformComponent);i&&(i.z=this._calculateZIndex(c,c));for(let i=0;i<e.data.length;i++){let A=e.data[i];if(0!==A){const e=this.getSpriteForGid(A);t.tiles[i].addGraphic(e);const r=this.getCollidersForGid(A);for(let e of r)t.tiles[i].addCollider(e);const a=t.tiles[i].get(s.IsometricEntityComponent);a&&(a.elevation=c.order)}}t.updateColliders(),this._mapToRawLayer.set(t,e),null===(l=this.isoLayers)||void 0===l||l.push(t)}}}getTileMapLayers(){var e;return(null===(e=this.layers)||void 0===e?void 0:e.length)?this.layers:[]}getIsometricMapLayers(){var e;return(null===(e=this.isoLayers)||void 0===e?void 0:e.length)?this.isoLayers:[]}_lookupTile(e,t,i){const A=e.tiles.indexOf(t),s=this.data.getTileLayerByName(i),r=(0,o.getCanonicalGid)(s.data[A]);if(0===r)return null;const a=this.getTilesetForTile(r);return a.tiles.find((e=>e.id===r-1))||{id:r-1,tileset:a,properties:{}}}getTileByPoint(e,t){const i=this.getTileMapLayers().find((t=>t.name===e));if(i){const A=i.getTileByPoint(t);return A?this._lookupTile(i,A,e):null}return null}getTileByCoordinate(e,t,i){const A=this.getTileMapLayers().find((t=>t.name===e));if(A){const s=A.getTile(t,i);return this._lookupTile(A,s,e)}return null}}},"./src/deprecated/tiled-object-component.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledObjectComponent:()=>s});var A=i("excalibur");class s extends A.Component{constructor(e){super(),this.object=e,this.type="ex.tiledobject"}}},"./src/deprecated/tiled-object.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledObject:()=>a,TiledObjectGroup:()=>r});var A=i("./src/deprecated/tiled-entity.ts"),s=i("excalibur");class r extends A.TiledEntity{constructor(){super(...arguments),this.objects=[]}getCamera(){var e;const t=this.getObjectByClass("camera");if(t){const i=t.getProperty("zoom");return{x:t.x,y:t.y,zoom:i?+(null!==(e=null==i?void 0:i.value)&&void 0!==e?e:1):1}}}getObjectByType(e){return this.getObjectsByType(e)[0]}getObjectByClass(e){return this.getObjectsByClass(e)[0]}getObjectsByType(e){return this.objects.filter((t=>{var i;return(null===(i=t.type)||void 0===i?void 0:i.toLocaleLowerCase())===e.toLocaleLowerCase()}))}getObjectsByClass(e){return this.objects.filter((t=>{var i,A;return(null===(i=t.class)||void 0===i?void 0:i.toLocaleLowerCase())===e.toLocaleLowerCase()||(null===(A=t.type)||void 0===A?void 0:A.toLocaleLowerCase())===e.toLocaleLowerCase()}))}getObjectByName(e){return this.getObjectsByName(e)[0]}getObjectsByName(e){return this.objects.filter((t=>{var i;return(null===(i=t.name)||void 0===i?void 0:i.toString().toLocaleLowerCase())===e.toString().toLocaleLowerCase()}))}getPoints(){return this.objects.filter((e=>!!e.point))}getEllipses(){return this.objects.filter((e=>!!e.ellipse))}getText(){return this.objects.filter((e=>!!e.text))}getPolyLines(){return this.objects.filter((e=>!!e.polyline))}getPolygons(){return this.objects.filter((e=>!!e.polygon))}getBoxes(){return this.objects.filter((e=>!!e.width&&!!e.height&&!e.ellipse))}getInsertedTiles(){return this.objects.filter((e=>!!e.gid))}static parse(e){var t;if("objectgroup"!==e.type)throw Error("Cannot parse non objectgroup type layer");const i=new r;i.id=+e.id,i.name=e.name,i.properties=null!==(t=e.properties)&&void 0!==t?t:[],i.rawObjectGroup=e,i.order=e.order;for(let t of e.objects)i.objects.push(a.parse(t));return i}}class a extends A.TiledEntity{static parse(e){var t,i,A,r;const o=new a;return o.id=+e.id,o.gid=e.gid,o.visible=null===(t=e.visible)||void 0===t||t,o.name=e.name,o.type=e.type,o.class=e.class,o.x=+e.x,o.y=+e.y,o.rotation=e.rotation?(0,s.toRadians)(e.rotation):0,o.width=null!==(i=e.width)&&void 0!==i?i:0,o.height=null!==(A=e.height)&&void 0!==A?A:0,o.point=e.point,o.ellipse=!0===e.ellipse||""===e.ellipse,o.polyline=e.polyline,o.polygon=e.polygon,o.rawObject=e,e.text&&(o.text={...e.text,pixelSize:e.text.pixelsize,fontFamily:e.text.fontfamily}),o.properties=null!==(r=e.properties)&&void 0!==r?r:[],o}}},"./src/deprecated/tiled-tileset.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledTileset:()=>o,TiledTilesetTile:()=>n,parseExternalJson:()=>d,parseExternalTsx:()=>l});var A=i("excalibur"),s=i("./node_modules/fast-xml-parser/src/parser.js"),r=i("./src/deprecated/tiled-object.ts"),a=i("./src/deprecated/tiled-entity.ts");class o{constructor(){this.tiles=[]}static parse(e){var t,i;const s=new o;let r=[];if(Array.isArray(e.tiles))r=(null!==(t=e.tiles)&&void 0!==t?t:[]).map((e=>n.parse(e,s)));else for(let t in e.tiles)r.push(n.parse({...e.tiles[t],id:+t},s));return s.tiles=r,s.firstGid=e.firstgid,s.tileWidth=e.tilewidth,s.tileHeight=e.tileheight,s.tileCount=e.tilecount,s.tileOffset=e.tileoffset,s.tiledVersion=e.tiledversion,s.backgroundColor=e.backgroundcolor,s.transparentColor=e.transparentcolor,s.wangSets=e.wangsets,s.imageWidth=e.imagewidth,s.imageHeight=e.imageheight,s.objectAlignment=null!==(i=e.objectalignment)&&void 0!==i?i:"unspecified",s.image=e.image,s.spacing=isNaN(e.spacing)?0:e.spacing,s.horizontalFlipTransform=A.Matrix.identity().translate(s.tileWidth,0).scale(-1,1),s.verticalFlipTransform=A.Matrix.identity().translate(0,s.tileHeight).scale(1,-1),s.diagonalFlipTransform=A.Matrix.identity().translate(0,0).rotate(-Math.PI/2).scale(-1,1),s}}class n{hasAnimation(){return!!this.animation}getAnimation(e){var t;if(this.animation){let i=[];for(let t of this.animation)i.push({graphic:e.getSpriteForGid(t.tileid+this.tileset.firstGid),duration:t.duration});return new A.Animation({frames:i,strategy:null!==(t=this.animationStrategy)&&void 0!==t?t:A.AnimationStrategy.Loop})}return null}static parse(e,t){var i,s,o;const l=new n;if(l.id=+e.id,l.image=e.image,l.tileset=t,l.properties=Array.isArray(e.properties)?e.properties:null!==(s=null===(i=e.properties)||void 0===i?void 0:i.property)&&void 0!==s?s:[],e.objectgroup&&(l.objectgroup=r.TiledObjectGroup.parse(e.objectgroup)),e.terrain&&(l.terrain=e.terrain),e.animation&&(l.animation=Array.isArray(e.animation)?e.animation:[...e.animation.frame],l.properties)){const e=null===(o=(0,a.getProperty)(l.properties,"animationstrategy"))||void 0===o?void 0:o.value;switch(null==e?void 0:e.toLowerCase()){case A.AnimationStrategy.End.toLowerCase():l.animationStrategy=A.AnimationStrategy.End;break;case A.AnimationStrategy.Freeze.toLowerCase():l.animationStrategy=A.AnimationStrategy.Freeze;break;case A.AnimationStrategy.Loop.toLowerCase():l.animationStrategy=A.AnimationStrategy.Loop;break;case A.AnimationStrategy.PingPong.toLowerCase():l.animationStrategy=A.AnimationStrategy.PingPong;break;default:l.animationStrategy=A.AnimationStrategy.Loop}}return l}}const l=(e,t,i)=>{var r,a,o,l,d;const c=(e,t,i=!1)=>{e[t]?(e[t+(i?"s":"")]=Array.isArray(e[t])?e[t]:[e[t]],i&&delete e[t]):e[t+(i?"s":"")]=[]},g=s.parse(e,{attributeNamePrefix:"",textNodeName:"#text",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!0,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0,parseTrueNumberOnly:!1,arrayMode:!1,stopNodes:["parse-me-as-string"]}).tileset,h=g;h.firstgid=t,h.source=i,h.imagewidth=null===(r=g.image)||void 0===r?void 0:r.width,h.imageheight=null===(a=g.image)||void 0===a?void 0:a.height,h.objectalignment=null!==(o=g.objectalignment)&&void 0!==o?o:"unspecified",h.image=null===(l=g.image)||void 0===l?void 0:l.source,h.spacing=isNaN(g.spacing)?0:g.spacing,c(g,"tile",!0),g.tiles.forEach((e=>{var t;(null===(t=e.image)||void 0===t?void 0:t.source)&&(e.image=e.image.source),e.objectgroup&&(e.objectgroup.type="objectgroup",c(e.objectgroup,"object",!0))})),h.tiles=g.tiles;const u={...h,tiles:[],firstGid:h.firstgid,tileWidth:h.tilewidth,tileHeight:h.tileheight,tileCount:h.tilecount,tileOffset:h.tileoffset,tiledVersion:h.tiledversion,backgroundColor:h.backgroundcolor,transparentColor:h.transparentcolor,wangSets:h.wangsets,imageWidth:h.imagewidth,imageHeight:h.imageheight,objectAlignment:null!==(d=h.objectalignment)&&void 0!==d?d:"unspecified",image:h.image,spacing:isNaN(h.spacing)?0:h.spacing,horizontalFlipTransform:A.Matrix.identity().translate(h.tilewidth,0).scale(-1,1),verticalFlipTransform:A.Matrix.identity().translate(0,h.tileheight).scale(1,-1),diagonalFlipTransform:A.Matrix.identity().translate(h.tilewidth,h.tileheight).rotate(-Math.PI/2).scale(-1,1)};return u.tiles=h.tiles.map((e=>n.parse(e,u))),u},d=(e,t,i)=>{var s,r;let a=[];e.tiles=null!==(s=e.tiles)&&void 0!==s?s:[],(0,A.vec)(e.tilewidth/2,e.tileheight/2);const o={...e,source:i,tiles:a,firstGid:t,tileWidth:e.tilewidth,tileHeight:e.tileheight,tileCount:e.tilecount,tileOffset:e.tileoffset,tiledVersion:e.tiledversion,backgroundColor:e.backgroundcolor,transparentColor:e.transparentcolor,wangSets:e.wangsets,imageWidth:e.imagewidth,imageHeight:e.imageheight,spacing:isNaN(e.spacing)?0:e.spacing,objectAlignment:null!==(r=e.objectalignment)&&void 0!==r?r:"unspecified",image:e.image,horizontalFlipTransform:A.Matrix.identity().translate(e.tilewidth,0).scale(-1,1),verticalFlipTransform:A.Matrix.identity().translate(0,e.tileheight).scale(1,-1),diagonalFlipTransform:A.Matrix.identity().translate(e.tilewidth,e.tileheight).rotate(-Math.PI/2).scale(-1,1)};for(let t in e.tiles)a.push(n.parse({...e.tiles[t],id:+t},o));return o}},"./src/deprecated/tiled-types.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/parser/tiled-parser.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledMap:()=>P,TiledParser:()=>H,TiledTemplate:()=>z,TiledText:()=>v,TiledTile:()=>F,TiledTileLayer:()=>y,TiledTileLayerInfinite:()=>E,TiledTileset:()=>O,TiledTilesetFile:()=>M,isCSV:()=>w,isInfiniteLayer:()=>U,isTiledTilesetCollectionOfImages:()=>j,isTiledTilesetEmbedded:()=>J,isTiledTilesetExternal:()=>q,isTiledTilesetSingleImage:()=>G,needsDecoding:()=>Q});var A=i("./node_modules/zod/lib/index.mjs");const s=A.z.object({name:A.z.string(),type:A.z.literal("int"),value:A.z.number().int()}),r=A.z.object({name:A.z.string(),type:A.z.literal("bool"),value:A.z.boolean()}),a=A.z.object({name:A.z.string(),type:A.z.literal("float"),value:A.z.number()}),o=A.z.object({name:A.z.string(),type:A.z.literal("string"),value:A.z.string()}),n=A.z.object({name:A.z.string(),type:A.z.literal("file"),value:A.z.string()}),l=A.z.object({name:A.z.string(),type:A.z.literal("color"),value:A.z.string()}),d=A.z.object({name:A.z.string(),type:A.z.literal("object"),value:A.z.number()}),c=A.z.discriminatedUnion("type",[s,r,a,o,n,l,d]),g=A.z.object({name:A.z.string(),type:A.z.literal("tilelayer"),class:A.z.string().optional(),height:A.z.number(),width:A.z.number(),x:A.z.number(),y:A.z.number(),id:A.z.number(),opacity:A.z.number(),properties:A.z.array(c).optional(),visible:A.z.boolean(),tintcolor:A.z.string().optional(),parallaxx:A.z.number().optional(),parallaxy:A.z.number().optional(),offsetx:A.z.number().optional(),offsety:A.z.number().optional()}),h=g.extend({data:A.z.array(A.z.number()),encoding:A.z.literal("csv")}),u=g.extend({data:A.z.array(A.z.number()),encoding:A.z.literal("base64"),compression:A.z.literal("gzip")}),p=g.extend({data:A.z.array(A.z.number()),encoding:A.z.literal("base64"),compression:A.z.literal("zlib")}),I=g.extend({data:A.z.array(A.z.number()),encoding:A.z.literal("base64"),compression:A.z.literal("zstandard")}),f=g.extend({data:A.z.string(),encoding:A.z.literal("base64"),compression:A.z.string().optional()}),m=A.z.object({x:A.z.number(),y:A.z.number(),width:A.z.number(),height:A.z.number(),data:A.z.string()}),C=A.z.object({x:A.z.number(),y:A.z.number(),width:A.z.number(),height:A.z.number(),data:A.z.array(A.z.number())}),B=A.z.union([m,C]),E=g.extend({startx:A.z.number(),starty:A.z.number(),chunks:A.z.array(B),encoding:A.z.string().optional(),compression:A.z.string().optional(),data:A.z.undefined()}),y=A.z.union([f,h,u,p,I,E]);function Q(e){return"base64"===e.encoding}function w(e){return"csv"===e.encoding||Array.isArray(e.data)}const b=A.z.object({x:A.z.number(),y:A.z.number()}),_=A.z.array(b),v=A.z.object({text:A.z.string(),color:A.z.string().optional(),fontfamily:A.z.string().optional(),pixelsize:A.z.number().optional(),wrap:A.z.boolean().optional(),halign:A.z.union([A.z.literal("left"),A.z.literal("center"),A.z.literal("right"),A.z.literal("justify")]).optional(),valign:A.z.union([A.z.literal("top"),A.z.literal("center"),A.z.literal("bottom")]).optional()}),x=A.z.object({id:A.z.number().optional(),name:A.z.string().optional(),type:A.z.string().optional(),x:A.z.number().optional(),y:A.z.number().optional(),rotation:A.z.number().optional(),height:A.z.number().optional(),width:A.z.number().optional(),visible:A.z.boolean().optional(),gid:A.z.number().optional(),text:v.optional(),point:A.z.boolean().optional(),ellipse:A.z.boolean().optional(),polyline:A.z.array(b).optional(),polygon:_.optional(),template:A.z.string().optional(),properties:A.z.array(c).optional()}),T=A.z.object({duration:A.z.number(),tileid:A.z.number()}),k=A.z.object({name:A.z.string(),draworder:A.z.string(),type:A.z.literal("objectgroup"),class:A.z.string().optional(),x:A.z.number(),y:A.z.number(),id:A.z.number(),color:A.z.string().optional(),tintcolor:A.z.string().optional(),parallaxx:A.z.number().optional(),parallaxy:A.z.number().optional(),offsetx:A.z.number().optional(),offsety:A.z.number().optional(),opacity:A.z.number(),properties:A.z.array(c).optional(),visible:A.z.boolean(),objects:A.z.array(x)}),D=A.z.object({name:A.z.string(),x:A.z.number(),y:A.z.number(),id:A.z.number(),type:A.z.literal("imagelayer"),class:A.z.string().optional(),image:A.z.string().optional(),opacity:A.z.number(),properties:A.z.array(c).optional(),visible:A.z.boolean(),tintcolor:A.z.string().optional(),repeatx:A.z.boolean().optional(),repeaty:A.z.boolean().optional(),parallaxx:A.z.number().optional(),parallaxy:A.z.number().optional(),offsetx:A.z.number().optional(),offsety:A.z.number().optional(),transparentcolor:A.z.string().optional()}),L=A.z.union([y,D,k]),N=A.z.object({draworder:A.z.string(),id:A.z.number().optional(),name:A.z.string(),x:A.z.number(),y:A.z.number(),opacity:A.z.number(),tintcolor:A.z.string().optional(),type:A.z.literal("objectgroup"),visible:A.z.boolean(),objects:A.z.array(x),properties:A.z.array(c).optional()}),F=A.z.object({id:A.z.number(),type:A.z.string().optional(),animation:A.z.array(T).optional(),objectgroup:N.optional(),probability:A.z.number().optional(),properties:A.z.array(c).optional(),image:A.z.string().optional(),imageheight:A.z.number().optional(),imagewidth:A.z.number().optional()}),S=A.z.object({name:A.z.string(),firstgid:A.z.number().optional(),class:A.z.string().optional(),objectalignment:A.z.union([A.z.literal("topleft"),A.z.literal("top"),A.z.literal("topright"),A.z.literal("left"),A.z.literal("center"),A.z.literal("right"),A.z.literal("bottomleft"),A.z.literal("bottom"),A.z.literal("bottomright")]).optional(),image:A.z.string().optional(),imagewidth:A.z.number().optional(),imageheight:A.z.number().optional(),columns:A.z.number(),tileheight:A.z.number(),tilewidth:A.z.number(),tilecount:A.z.number(),grid:A.z.object({height:A.z.number(),width:A.z.number(),orientation:A.z.union([A.z.literal("isometric"),A.z.literal("orthogonal")])}).optional(),tileoffset:b.optional(),spacing:A.z.number(),margin:A.z.number(),tiles:A.z.array(F).optional(),properties:A.z.array(c).optional()});function G(e){return!!e.image}function j(e){return!e.image}const M=S.extend({tiledversion:A.z.string().optional(),type:A.z.literal("tileset"),version:A.z.string().optional()}),R=A.z.object({firstgid:A.z.number(),source:A.z.string()}),O=A.z.union([S,R]),z=A.z.object({object:x.extend({id:A.z.number().optional()}),tileset:R.optional(),type:A.z.literal("template")}),P=A.z.object({type:A.z.string(),class:A.z.string().optional(),tiledversion:A.z.string(),version:A.z.string(),width:A.z.number(),height:A.z.number(),tilewidth:A.z.number(),tileheight:A.z.number(),compressionlevel:A.z.number().optional(),infinite:A.z.boolean(),nextlayerid:A.z.number(),nextobjectid:A.z.number(),parallaxoriginx:A.z.number().optional(),parallaxoriginy:A.z.number().optional(),hexsidelength:A.z.number().optional(),staggeraxis:A.z.literal("y").or(A.z.literal("x")).optional(),staggerindex:A.z.literal("odd").or(A.z.literal("even")).optional(),orientation:A.z.union([A.z.literal("isometric"),A.z.literal("orthogonal"),A.z.literal("staggered"),A.z.literal("hexagonal")]),renderorder:A.z.union([A.z.literal("right-down"),A.z.literal("right-up"),A.z.literal("left-down"),A.z.literal("left-up")]),backgroundcolor:A.z.string().optional(),layers:A.z.array(L),tilesets:A.z.array(O),properties:A.z.array(c).optional()});function U(e){return!!e.chunks}function J(e){return!e.source}function q(e){return!!e.source}class Z{constructor(e,t,i,A){this.x=e,this.y=t,this.width=i,this.height=A}combine(e){const t=this.x+this.width,i=this.y+this.height,A=e.x+e.width,s=e.y+e.height,r=Math.max(t,A),a=Math.max(i,s);return new Z(Math.min(this.x,e.x),Math.min(this.y,e.y),r-Math.min(this.x,e.x),a-Math.min(this.y,e.y))}}class H{constructor(){this._largestBounds=new Z(0,0,0,0)}_coerceNumber(e){return+e}_coerceBoolean(e){switch(e){case"0":case"false":return!1;case"true":return!0;default:return!!Boolean(e)}}_coerceType(e,t){return"bool"===e?this._coerceBoolean(t):"int"===e||"float"===e||"object"===e?this._coerceNumber(t):t}_parsePropertiesNode(e,t){var i;const A=[];if(e)for(let t of e.children){const e=null!==(i=t.getAttribute("type"))&&void 0!==i?i:"string";let s=t.getAttribute("value");s||(s=t.innerHTML),A.push({name:t.getAttribute("name"),type:e,value:this._coerceType(e,s)})}t.properties=A}_parseAttributes(e,t){const i=["width","height","columns","firstgid","spacing","margin","tilecount","tilewidth","tileheight","opacity","compressionlevel","nextlayerid","nextobjectid","parallaxoriginx","parallaxoriginy","parallaxx","parallaxy","hexsidelength","offsetx","offsety","id","gid","x","y","rotation","probability"],A=["infinite","visible","repeatx","repeaty"];for(let s of e.attributes)i.indexOf(s.name)>-1?t[s.name]=this._coerceNumber(s.value):A.indexOf(s.name)>-1?t[s.name]=this._coerceBoolean(s.value):t[s.name]=s.value}_parseToDocument(e){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(e,"application/xml");try{const{JSDOM:t}=i("jsdom");return new t(e,{contentType:"application/xml",encoding:"utf-8"}).window.document}catch(e){}const t=new Error("Could not find DOM parser");throw console.error(t.message,t),t}parseObject(e,t=!0){var i,A;const s={type:"",x:0,y:0};e.getAttribute("template")||(s.visible=!0,s.name="",s.rotation=0,s.height=0,s.width=0),this._parseAttributes(e,s);const r=e.querySelector("properties");r&&this._parsePropertiesNode(r,s);const a=e.querySelector("text");if(a){s.text={text:a.textContent};const e=a.getAttribute("fontfamily");e&&(s.text.fontfamily=e);const t=a.getAttribute("color");t&&(s.text.color=t);const i=a.getAttribute("pixelsize");i&&(s.text.pixelsize=this._coerceNumber(i));const A=a.getAttribute("wrap");A&&(s.text.wrap=this._coerceBoolean(A));const r=a.getAttribute("valign");r&&(s.text.valign=r);const o=a.getAttribute("halign");o&&(s.text.halign=o)}e.querySelector("point")&&(s.point=!0),e.querySelector("ellipse")&&(s.ellipse=!0);const o=e.querySelector("polygon");if(o){const e=null===(i=o.getAttribute("points"))||void 0===i?void 0:i.split(" ");s.polygon=[],e&&e.forEach((e=>{const t=e.split(",");s.polygon.push({x:+t[0],y:+t[1]})}))}const n=e.querySelector("polyline");if(n){const e=null===(A=n.getAttribute("points"))||void 0===A?void 0:A.split(" ");s.polyline=[],e&&e.forEach((e=>{const t=e.split(",");s.polyline.push({x:+t[0],y:+t[1]})}))}if(t)try{return x.parse(s)}catch(e){throw console.error("Could not parse object",s,e),e}return s}parseTileset(e,t=!0){const i={spacing:0,margin:0};if(this._parseAttributes(e,i),i.source)try{return O.parse(i)}catch(e){console.error("Could not parse external tileset",i,e)}for(let A of e.children)switch(A.tagName){case"properties":this._parsePropertiesNode(A,i);break;case"tileoffset":{const e={};this._parseAttributes(A,e),i.tileoffset=e;break}case"grid":{const e={};this._parseAttributes(A,e),i.grid=e;break}case"image":i.image=A.getAttribute("source"),i.imagewidth=this._coerceNumber(A.getAttribute("width")),i.imageheight=this._coerceNumber(A.getAttribute("height"));break;case"tile":{i.tiles||(i.tiles=[]);const e={};this._parseAttributes(A,e);for(let i of A.children)switch(i.tagName){case"image":e.image=i.getAttribute("source"),e.imagewidth=this._coerceNumber(i.getAttribute("width")),e.imageheight=this._coerceNumber(i.getAttribute("height"));break;case"objectgroup":{const A={type:"objectgroup",name:"",visible:!0,x:0,y:0,opacity:1,objects:[]};this._parseAttributes(i,A),e.objectgroup=A;for(let e of i.children){const i=this.parseObject(e,t);A.objects.push(i)}break}case"animation":{const t=[];for(let e of i.children)t.push({duration:this._coerceNumber(e.getAttribute("duration")),tileid:this._coerceNumber(e.getAttribute("tileid"))});e.animation=t;break}case"properties":this._parsePropertiesNode(i,e)}if(t)try{i.tiles.push(F.parse(e))}catch(t){throw console.error("Could not parse Tile",e,t),t}else i.tiles.push(e);break}}if(t)try{return O.parse(i)}catch(e){throw console.error("Could not parse Tileset",i,e),e}return i}parseTileLayer(e,t,i=!0){var A,s,r,a;const o={type:"tilelayer",x:0,y:0,opacity:1,visible:!0};this._parseAttributes(e,o);for(let i of e.children)switch(i.tagName){case"properties":this._parsePropertiesNode(i,o);break;case"data":{const e=i.getAttribute("encoding");e&&(o.encoding=e);const n=i.getAttribute("compression");if(n&&(o.compression=n),t){o.width=0,o.height=0,o.chunks=[];let e=new Z(0,0,0,0);for(let t of i.children)if("chunk"===t.tagName){const i={};switch(this._parseAttributes(t,i),o.encoding){case"base64":i.data=null===(A=t.textContent)||void 0===A?void 0:A.trim();break;case"csv":i.data=null===(s=t.textContent)||void 0===s?void 0:s.split(",").map((e=>+e))}const r=new Z(i.x,i.y,i.width,i.height);e=e.combine(r),o.chunks.push(i)}o.width=e.width,o.height=e.height,o.startx=e.x,o.starty=e.y,this._largestBounds=this._largestBounds.combine(new Z(o.startx,o.starty,o.width,o.height))}else switch(o.encoding){case"base64":o.data=null===(r=i.textContent)||void 0===r?void 0:r.trim();break;case"csv":o.data=null===(a=i.textContent)||void 0===a?void 0:a.split(",").map((e=>+e))}}}if(i)try{return L.parse(o)}catch(e){throw console.error("Could not parse tiled tile layer",o,e),e}return o}parseObjectGroup(e,t=!0){const i={type:"objectgroup",draworder:"topdown",visible:!0,x:0,y:0,opacity:1,objects:[]};this._parseAttributes(e,i);for(let A of e.children)switch(A.tagName){case"properties":this._parsePropertiesNode(A,i);break;case"object":{const e=this.parseObject(A,t);i.objects.push(e);break}}if(t)try{return L.parse(i)}catch(e){throw console.error("Could not parse object group",i,e),e}return i}parseImageLayer(e,t=!0){const i={type:"imagelayer",visible:!0,x:0,y:0,opacity:1},A=e.querySelector("image");i.image=null==A?void 0:A.getAttribute("source");const s=e.querySelector("properties");s&&this._parsePropertiesNode(s,i);const r=null==A?void 0:A.getAttribute("trans");if(r&&(i.transparentcolor="#"+r),this._parseAttributes(e,i),t)try{return L.parse(i)}catch(e){throw console.error("Could not parse layer",i,e),e}return i}parseExternalTemplate(e,t=!0){const i=this._parseToDocument(e).querySelector("template"),A={type:"template"},s=i.querySelector("object");s&&(A.object=this.parseObject(s,t));const r=i.querySelector("tileset");if(r&&(A.tileset=this.parseTileset(r,t)),t)try{return z.parse(A)}catch(e){throw console.error("Could not parse template",A,e),e}return A}parseExternalTileset(e,t=!0){const i=this._parseToDocument(e).querySelector("tileset"),A=this.parseTileset(i,t);if(A.type="tileset",this._parseAttributes(i,A),t)try{return M.parse(A)}catch(e){throw console.error("Could not parse tileset file",A,e),e}return A}parse(e,t=!0){const i=this._parseToDocument(e).querySelector("map"),A={type:"map",compressionlevel:-1,layers:[],tilesets:[]};this._parseAttributes(i,A);const s=(e,t=!0)=>{switch(e.tagName){case"group":for(let i of e.children)s(i,t);break;case"layer":{const i=this.parseTileLayer(e,A.infinite,t);A.layers.push(i);break}case"properties":this._parsePropertiesNode(e,A);break;case"tileset":{const i=this.parseTileset(e,t);A.tilesets.push(i);break}case"objectgroup":{const i=this.parseObjectGroup(e,t);A.layers.push(i);break}case"imagelayer":{const i=this.parseImageLayer(e,t);A.layers.push(i);break}}};for(let e of i.children)s(e,t);if(t)try{return P.parse(A)}catch(e){throw console.error("Could not parse Tiled map",e),e}return A}}},"./src/resource/decoder.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{Decoder:()=>r});var A=i("./node_modules/pako/index.js"),s=i("./node_modules/zstddec/dist/zstddec.modern.js");class r{static decode(e,t){var i,r,a,o,n,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d="+".charCodeAt(0),c="/".charCodeAt(0),g="0".charCodeAt(0),h="a".charCodeAt(0),u="A".charCodeAt(0),p="-".charCodeAt(0),I="_".charCodeAt(0);function f(e){var t=e.charCodeAt(0);if(t===d||t===p)return 62;if(t===c||t===I)return 63;if(t<g)return-1;if(t<g+10)return t-g+26+26;if(t<u+26)return t-u;if(t<h+26)return t-h+26;throw Error("Could not decode elt")}var m=e.length;n="="===e.charAt(m-2)?2:"="===e.charAt(m-1)?1:0,l=new Uint8Array(3*e.length/4-n),a=n>0?e.length-4:e.length;var C=0;function B(e){l[C++]=e}for(i=0,r=0;i<a;i+=4,r+=3)B((16711680&(o=f(e.charAt(i))<<18|f(e.charAt(i+1))<<12|f(e.charAt(i+2))<<6|f(e.charAt(i+3))))>>16),B((65280&o)>>8),B(255&o);return 2===n?B(255&(o=f(e.charAt(i))<<2|f(e.charAt(i+1))>>4)):1===n&&(B((o=f(e.charAt(i))<<10|f(e.charAt(i+1))<<4|f(e.charAt(i+2))>>2)>>8&255),B(255&o)),new Promise((e=>{const r=function(e){for(var t=0,i=e.length-1;i>=0;i--)t=256*t+1*e[i];return t};if("zlib"===t||"gzip"===t){var a=(l=(0,A.inflate)(l)).length/4,o=new Array(a);for(i=0;i<a;i++)o[i]=r(l.slice(4*i,4*i+4));e(o)}if("zstd"===t){const t=new s.ZSTDDecoder;t.init().then((()=>{var A=(l=t.decode(l)).length/4,s=new Array(A);for(i=0;i<A;i++)s[i]=r(l.slice(4*i,4*i+4));e(s)}))}if(!t){for(a=l.length/4,o=new Array(a),i=0;i<a;i++)o[i]=r(l.slice(4*i,4*i+4));e(o)}}))}}},"./src/resource/excalibur-properties.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{ExcaliburTiledProperties:()=>A});const A={TileData:{Tiled:"ex-tiled"},ZIndex:{ZIndex:"zindex"},Camera:{Camera:"camera",Zoom:"zoom"},Animation:{Strategy:"animationstrategy"},Layer:{Solid:"solid"},Collision:{Type:"collisiontype"}}},"./src/resource/file-loader.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{FetchLoader:()=>A});const A=async(e,t)=>{const i=await fetch(e);switch(t.toLowerCase()){case"xml":default:return await i.text();case"json":return await i.json()}}},"./src/resource/filter-util.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{byClassCaseInsensitive:()=>s,byNameCaseInsensitive:()=>A,byPropertyCaseInsensitive:()=>r});const A=e=>t=>(null==t?void 0:t.name)&&e?0===t.name.toLocaleLowerCase().localeCompare(e.toLocaleLowerCase()):(null==t?void 0:t.name)===e,s=e=>t=>(null==t?void 0:t.class)&&e?0===t.class.toLocaleLowerCase().localeCompare(e.toLocaleLowerCase()):(null==t?void 0:t.class)===e,r=(e,t)=>i=>{const A=(e=>{const t=new Map;for(let[i,A]of e){let e=A;"string"==typeof A&&(e=A.toLocaleLowerCase()),t.set(i.toLocaleLowerCase(),e)}return t})(i.properties);if(void 0!==t){let i=t;return"string"==typeof t&&(i=t.toLocaleLowerCase()),A.get(e.toLocaleLowerCase())===i}return A.has(e.toLocaleLowerCase())}},"./src/resource/gid-util.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{FLIPPED_DIAGONALLY_FLAG:()=>r,FLIPPED_HORIZONTALLY_FLAG:()=>A,FLIPPED_VERTICALLY_FLAG:()=>s,getCanonicalGid:()=>l,isFlippedDiagonally:()=>n,isFlippedHorizontally:()=>a,isFlippedVertically:()=>o});const A=2147483648,s=1073741824,r=536870912,a=e=>!!(e&A),o=e=>!!(e&s),n=e=>!!(e&r),l=e=>e&~(A|s|r)},"./src/resource/image-layer.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{ImageLayer:()=>a});var A=i("excalibur"),s=i("./src/resource/properties.ts"),r=i("./src/resource/path-util.ts");class a{constructor(e,t,i){this.tiledImageLayer=e,this.resource=t,this.order=i,this.properties=new Map,this.image=null,this.imageActor=null,this.name=e.name,this.class=e.class,(0,s.mapProps)(this,e.properties),e.image&&(this.image=new A.ImageSource((0,r.pathRelativeToBase)(this.resource.path,e.image,this.resource.pathMap)))}async load(){var e,t,i,s;const r=this.tiledImageLayer.opacity,a=!!this.tiledImageLayer.tintcolor,o=this.tiledImageLayer.tintcolor?A.Color.fromHex(this.tiledImageLayer.tintcolor):A.Color.White,n=(0,A.vec)(null!==(e=this.tiledImageLayer.offsetx)&&void 0!==e?e:0,null!==(t=this.tiledImageLayer.offsety)&&void 0!==t?t:0),l=null!==(i=this.tiledImageLayer.parallaxx)&&void 0!==i?i:1,d=null!==(s=this.tiledImageLayer.parallaxy)&&void 0!==s?s:1;if(this.image){this.resource.headless||await this.image.load(),this.imageActor=new A.Actor({name:this.tiledImageLayer.name,pos:n,anchor:A.Vector.Zero,z:this.order}),this.imageActor.addComponent(new A.ParallaxComponent((0,A.vec)(l,d)));const e=this.image.toSprite();this.imageActor.graphics.use(e),this.imageActor.graphics.visible=this.tiledImageLayer.visible,this.imageActor.graphics.opacity=r,a&&(e.tint=o)}}}},"./src/resource/iso-tile-layer.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{IsoTileLayer:()=>c});var A=i("excalibur"),s=i("./src/resource/properties.ts"),r=i("./src/parser/tiled-parser.ts"),a=i("./src/resource/decoder.ts"),o=i("./src/resource/gid-util.ts"),n=i("./src/resource/excalibur-properties.ts"),l=i("./src/resource/tiled-layer-component.ts"),d=i("./src/resource/filter-util.ts");class c{constructor(e,t,i){this.tiledTileLayer=e,this.resource=t,this.order=i,this.logger=A.Logger.getInstance(),this.width=0,this.height=0,this.properties=new Map,this.data=[],this._gidToTileInfo=new Map,this.name=e.name,this.class=e.class,this.width=e.width,this.height=e.height,(0,s.mapProps)(this,e.properties)}getTilesByGid(e){var t;return null!==(t=this._gidToTileInfo.get(e))&&void 0!==t?t:[]}getTilesByClassName(e){return this.isometricMap.tiles.filter((t=>{const i=t.data.get(n.ExcaliburTiledProperties.TileData.Tiled);return!!i&&(0,d.byClassCaseInsensitive)(e)(i)})).map((e=>({exTile:e,tiledTile:e.data.get(n.ExcaliburTiledProperties.TileData.Tiled)})))}getTilesByProperty(e,t){return this.isometricMap.tiles.filter((i=>{const A=i.data.get(n.ExcaliburTiledProperties.TileData.Tiled);return!!A&&(0,d.byPropertyCaseInsensitive)(e,t)(A)})).map((e=>({exTile:e,tiledTile:e.data.get(n.ExcaliburTiledProperties.TileData.Tiled)})))}getTileByPoint(e){if(!this.isometricMap)return this.logger.warn("IsometricMap has not yet been loaded! getTileByPoint() will only return null"),null;if(this.isometricMap){const t=this.isometricMap.getTileByPoint(e);if(!t)return null;const i=this.isometricMap.tiles.indexOf(t),A=(0,o.getCanonicalGid)(this.data[i]);return A<=0?null:{tiledTile:this.resource.getTilesetForTileGid(A).getTileByGid(A),exTile:t}}return null}_recordTileData(e,t){let i=this._gidToTileInfo.get(e),A=this.resource.getTilesetForTileGid(e).getTileByGid(e);i?i.push({exTile:t,tiledTile:A}):i=[{exTile:t,tiledTile:A}],this._gidToTileInfo.set(e,i),t.data.set(n.ExcaliburTiledProperties.TileData.Tiled,A)}updateTile(e,t,i,s,r){this._recordTileData(t,e),this.resource.useExcaliburWiring&&r&&(e.solid=!0);const a=e.get(A.IsometricEntityComponent);a&&(a.elevation=this.order);const o=this.resource.getTilesetForTileGid(t);let l=o.getSpriteForGid(t);i&&(l=l.clone(),l.tint=s),e.addGraphic(l,{offset:o.tileOffset});let d=e.pos;if("orthogonal"===o.orientation)d=(0,A.vec)(0,0);else{const e=this.resource.map.tilewidth/2,t=this.resource.map.tileheight;d=(0,A.vec)(e,t)}const c=o.getCollidersForGid(t,{offset:d});for(let t of c)e.addCollider(t);let g=o.getAnimationForGid(t);if(g&&(i&&(g=g.clone(),g.tint=s),e.clearGraphics(),e.addGraphic(g,{offset:o.tileOffset}),this.resource.useExcaliburWiring)){const e=o.getTileByGid(t),i=null==e?void 0:e.properties.get(n.ExcaliburTiledProperties.Animation.Strategy);if(i&&"string"==typeof i)switch(i.toLowerCase()){case A.AnimationStrategy.End.toLowerCase():g.strategy=A.AnimationStrategy.End;break;case A.AnimationStrategy.Freeze.toLowerCase():g.strategy=A.AnimationStrategy.Freeze;break;case A.AnimationStrategy.Loop.toLowerCase():g.strategy=A.AnimationStrategy.Loop;break;case A.AnimationStrategy.PingPong.toLowerCase():g.strategy=A.AnimationStrategy.PingPong;break;default:this.logger.warn(`Unknown animation strategy in tileset ${o.name} on tile gid ${t}: ${i}`)}}}async load(){var e,t,i,s;const o=this.tiledTileLayer,d=!!this.properties.get(n.ExcaliburTiledProperties.Layer.Solid),c=(this.tiledTileLayer.opacity,!!this.tiledTileLayer.tintcolor),g=this.tiledTileLayer.tintcolor?A.Color.fromHex(this.tiledTileLayer.tintcolor):A.Color.Transparent,h=(0,A.vec)(null!==(e=o.offsetx)&&void 0!==e?e:0,null!==(t=o.offsety)&&void 0!==t?t:0);this.tiledTileLayer.data&&(0,r.needsDecoding)(this.tiledTileLayer)?this.data=await a.Decoder.decode(this.tiledTileLayer.data,this.tiledTileLayer.compression):this.tiledTileLayer.data&&(0,r.isCSV)(this.tiledTileLayer)&&(this.data=this.tiledTileLayer.data);let u=this.order,p=this.properties.get(n.ExcaliburTiledProperties.ZIndex.ZIndex);if("number"==typeof p&&(u=p),this.resource.map.infinite&&(0,r.isInfiniteLayer)(this.tiledTileLayer)){const e=this.resource.isometricTiledCoordToWorld(this.tiledTileLayer.startx,this.tiledTileLayer.starty),t=(0,A.vec)(e.x*this.resource.map.tilewidth,e.y*this.resource.map.tileheight);this.isometricMap=new A.IsometricMap({name:this.name,pos:h.add(t),tileHeight:this.resource.map.tileheight,tileWidth:this.resource.map.tilewidth,columns:o.width,rows:o.height,elevation:u})}else this.isometricMap=new A.IsometricMap({name:this.name,pos:h,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight,columns:o.width,rows:o.height,elevation:u});if(this.isometricMap.visible=this.tiledTileLayer.visible,this.isometricMap.opacity=this.tiledTileLayer.opacity,this.isometricMap.addComponent(new l.TiledLayerDataComponent({tiledTileLayer:o})),o.parallaxx||o.parallaxy){const e=(0,A.vec)(null!==(i=o.parallaxx)&&void 0!==i?i:1,null!==(s=o.parallaxy)&&void 0!==s?s:1);this.isometricMap.addComponent(new A.ParallaxComponent(e))}if(this.resource.map.infinite&&(0,r.isInfiniteLayer)(this.tiledTileLayer)){const e=this.tiledTileLayer;for(let t of this.tiledTileLayer.chunks){let i=[];(0,r.needsDecoding)(this.tiledTileLayer)?i=await a.Decoder.decode(t.data,e.compression):(0,r.isCSV)(this.tiledTileLayer)&&(i=t.data);for(let e=0;e<i.length;e++){const A=i[e];if(0!=A){const i=e%t.width+(t.x-this.tiledTileLayer.startx),s=Math.floor(e/t.width)+(t.y-this.tiledTileLayer.starty),r=this.isometricMap.tiles[i+s*o.width];this.updateTile(r,A,c,g,d)}}}}else for(let e=0;e<this.data.length;e++){let t=this.data[e];if(0!==t){const i=this.isometricMap.tiles[e];this.updateTile(i,t,c,g,d)}}}}},"./src/resource/layer.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/resource/loader-cache.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{LoaderCache:()=>A});class A{constructor(e){this.type=e,this._loaded=!1,this.cache=new Map}getOrAdd(...e){let t=this.cache.get(e.join("+"));return t||(t=new this.type(...e),this.cache.set(e.join("+"),t),t)}values(){if(this._loaded)return Array.from(this.cache.values());throw new Error("Read through cache not yet loaded! No values to return!")}async load(){const e=Array.from(this.cache.entries()),t=await Promise.allSettled(e.map((e=>e[1].load())));let i=0;for(let A=0;A<t.length;A++){const s=t[A];"rejected"===s.status&&(console.error(`Error loading resource at ${e[A][0]}, is your pathMap correct? or your Tiled map corrupted?`,s.reason),i++)}if(i)throw new Error(`Error loading ${i} resources`);this._loaded=!0}}},"./src/resource/object-layer.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{ObjectLayer:()=>l});var A=i("excalibur"),s=i("./src/resource/objects.ts"),r=i("./src/resource/properties.ts"),a=i("./src/resource/filter-util.ts"),o=i("./src/resource/excalibur-properties.ts"),n=i("./src/resource/tiled-data-component.ts");class l{constructor(e,t,i){this.tiledObjectLayer=e,this.resource=t,this.order=i,this.logger=A.Logger.getInstance(),this.properties=new Map,this.objects=[],this.entities=[],this._objectToEntity=new Map,this._entityToObject=new Map,this._loaded=!1,this.name=e.name,this.class=e.class,(0,r.mapProps)(this,e.properties)}_logLoadedWarning(e){this.logger.warn(`ObjectLayer ${this.name} is not yet loaded, ${e}() will always be empty!`)}getObjectsByName(e){return this._loaded||this._logLoadedWarning("getObjectsByName"),this.objects.filter((0,a.byNameCaseInsensitive)(e))}getEntitiesByName(e){return this._loaded||this._logLoadedWarning("getEntitiesByName"),this.entities.filter((0,a.byNameCaseInsensitive)(e))}getEntityByObject(e){return this._loaded||this._logLoadedWarning("getEntityByObject"),this._objectToEntity.get(e)}getObjectByEntity(e){return this._loaded||this._logLoadedWarning("getObjectByEntity"),this._entityToObject.get(e)}getObjectsByProperty(e,t){return this._loaded||this._logLoadedWarning("getObjectsByProperty"),this.objects.filter((0,a.byPropertyCaseInsensitive)(e,t))}getEntitiesByProperty(e,t){return this._loaded||this._logLoadedWarning("getEntitiesByProperty"),this.getObjectsByProperty(e,t).map((e=>this._objectToEntity.get(e))).filter((e=>!!e))}getObjectsByClassName(e){return this._loaded||this._logLoadedWarning("getObjectsByClassName"),this.objects.filter((0,a.byClassCaseInsensitive)(e))}getEntitiesByClassName(e){return this._loaded||this._logLoadedWarning("getEntitiesByClassName"),this.getObjectsByClassName(e).map((e=>this._objectToEntity.get(e))).filter((e=>!!e))}getTemplates(){return this._loaded||this._logLoadedWarning("getTemplates"),this.objects.filter((e=>e instanceof s.TemplateObject))}runFactory(e){var t,i,r,a;const o=(0,A.vec)(null!==(t=this.tiledObjectLayer.offsetx)&&void 0!==t?t:0,null!==(i=this.tiledObjectLayer.offsety)&&void 0!==i?i:0),n=this.objects.slice();for(let t of n){let i=t.class;if(t instanceof s.TemplateObject&&(i=i||t.template.object.class),e!==i)continue;let n=(0,A.vec)((null!==(r=t.x)&&void 0!==r?r:0)+o.x,(null!==(a=t.y)&&void 0!==a?a:0)+o.y);"isometric"===this.resource.map.orientation&&(n=this.resource.isometricTiledCoordToWorld(n.x,n.y));const l=this.resource.factories.get(e);if(l){const e=l({worldPos:n,name:t.name,class:i,layer:this,object:t,properties:t.properties});e&&this._recordObjectEntityMapping(t,e)}}}_actorFromObject(e,t,i){var r,a,o,n,l,d;const c=this.resource.headless,g=!!this.tiledObjectLayer.tintcolor,h=this.tiledObjectLayer.tintcolor?A.Color.fromHex(this.tiledObjectLayer.tintcolor):A.Color.White;if(e instanceof s.InsertedTile&&i){const s="isometric"===this.resource.map.orientation&&"orthogonal"===i.orientation?"bottom":void 0,u=i.getTilesetAlignmentAnchor(s);t.anchor=u;const p=(null!==(r=e.tiledObject.width)&&void 0!==r?r:this.resource.map.tilewidth)/this.resource.map.tilewidth,I=(null!==(a=e.tiledObject.width)&&void 0!==a?a:this.resource.map.tilewidth)/this.resource.map.tilewidth,f=(0,A.vec)(p,I);if(!c){const A=i.getSpriteForGid(e.gid).clone();A.destSize.width=null!==(o=e.tiledObject.width)&&void 0!==o?o:A.width,A.destSize.height=null!==(n=e.tiledObject.height)&&void 0!==n?n:A.height,g&&(A.tint=h),t.graphics.use(A),t.graphics.offset=i.tileOffset;const s=i.getAnimationForGid(e.gid);if(s){const e=s.clone();e.scale=f,g&&(e.tint=h),t.graphics.use(e),t.graphics.offset=i.tileOffset}}const m=null!==(l=e.tiledObject.width)&&void 0!==l?l:0,C=null!==(d=e.tiledObject.height)&&void 0!==d?d:0,B=-m*u.x,E=-C*u.y,y=this.resource.map.tilewidth/2,Q=this.resource.map.tileheight;let w=(0,A.vec)(B,E);"isometric"===this.resource.map.orientation&&(w=(0,A.vec)(B+y,E+Q),"orthogonal"===i.orientation&&(w=w.sub((0,A.vec)(y,Q))));const b=i.getCollidersForGid(e.gid,{anchor:A.Vector.Zero,scale:f,offset:w});if(b.length)t.collider.useCompositeCollider(b);else{let i=e.width,s=e.height;if("isometric"===this.resource.map.orientation){const t=e.height/2;i=t,s=t}let r=A.Shape.Box(i,s,"isometric"===this.resource.map.orientation?(0,A.vec)(1,1):(0,A.vec)(0,1));"isometric"===this.resource.map.orientation&&(r.points=r.points.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.collider.set(r)}}if(e instanceof s.Text&&t.graphics.use(e.text),e instanceof s.Polygon){let i=(0,A.vec)(e.x,e.y),s=e.localPoints;"isometric"===this.resource.map.orientation&&(i=this.resource.isometricTiledCoordToWorld(i.x,i.y),s=s.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.anchor=(0,A.vec)(0,1),t.pos=i;const r=A.Shape.Polygon(s,A.Vector.Zero,!0);r.isConvex()?t.collider.set(r):t.collider.set(r.triangulate())}if(e instanceof s.Rectangle){t.anchor=e.anchor;let i=A.Shape.Box(e.width,e.height,e.anchor);"isometric"===this.resource.map.orientation&&(i.points=i.points.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.collider.set(i)}e instanceof s.Ellipse&&t.collider.useCircleCollider(Math.min(e.width,e.height)/2)}async load(){var e,t,i,r,a;const n=this.tiledObjectLayer.opacity,l=(0,A.vec)(null!==(e=this.tiledObjectLayer.offsetx)&&void 0!==e?e:0,null!==(t=this.tiledObjectLayer.offsety)&&void 0!==t?t:0),d=(0,s.parseObjects)(this.tiledObjectLayer,this.resource);for(let e of d){let t=(0,A.vec)((null!==(i=e.x)&&void 0!==i?i:0)+l.x,(null!==(r=e.y)&&void 0!==r?r:0)+l.y);"isometric"===this.resource.map.orientation&&(t=this.resource.isometricTiledCoordToWorld(t.x,t.y));let d,c=e.class;if(e instanceof s.TemplateObject&&(c=c||e.template.object.class),c){const i=this.resource.factories.get(c);if(i){const A=i({worldPos:t,name:e.name,class:c,layer:this,object:e,properties:e.properties});A&&this._recordObjectEntityMapping(e,A);continue}}let g=this.properties.get(o.ExcaliburTiledProperties.ZIndex.ZIndex);"number"==typeof g&&(d=g);const h=new A.Actor({name:e.tiledObject.name,pos:t,anchor:A.Vector.Zero,rotation:(0,A.toRadians)(null!==(a=e.tiledObject.rotation)&&void 0!==a?a:0),z:d}),u=h.get(A.GraphicsComponent);if(u&&(u.visible=this.tiledObjectLayer.visible&&(void 0===e.tiledObject.visible||!!e.tiledObject.visible),u.opacity=n),"isometric"===this.resource.map.orientation){const e=new A.IsometricEntityComponent({rows:this.resource.map.height,columns:this.resource.map.width,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight});e.elevation=null!=d?d:this.order,h.addComponent(e)}if(this.resource.useExcaliburWiring){const t=e.properties.get(o.ExcaliburTiledProperties.Collision.Type);if(t&&"string"==typeof t)switch(t.toLowerCase()){case A.CollisionType.Active.toLowerCase():h.body.collisionType=A.CollisionType.Active;break;case A.CollisionType.Fixed.toLowerCase():h.body.collisionType=A.CollisionType.Fixed;break;case A.CollisionType.Passive.toLowerCase():h.body.collisionType=A.CollisionType.Passive;break;case A.CollisionType.PreventCollision.toLowerCase():h.body.collisionType=A.CollisionType.PreventCollision;break;default:this.logger.warn(`Unknown collision type in layer ${this.name}, for object id ${e.id} and name ${e.name}: ${t}`)}}if(e instanceof s.TemplateObject){const t=e.template.tileset;e.template.object&&this._actorFromObject(e.template.object,h,t)}else{let t;e instanceof s.InsertedTile&&(t=this.resource.getTilesetForTileGid(e.gid)),this._actorFromObject(e,h,t)}this._recordObjectEntityMapping(e,h)}this._loaded=!0}_recordObjectEntityMapping(e,t){t.addComponent(new n.TiledDataComponent({tiledObject:e})),this.objects.push(e),this.entities.push(t),this._objectToEntity.set(e,t),this._entityToObject.set(t,e)}}},"./src/resource/objects.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{Ellipse:()=>c,InsertedTile:()=>n,PluginObject:()=>a,Point:()=>l,Polygon:()=>h,Polyline:()=>u,Rectangle:()=>g,TemplateObject:()=>o,Text:()=>d,parseObject:()=>p,parseObjects:()=>I});var A=i("excalibur"),s=i("./src/resource/properties.ts"),r=i("./src/resource/path-util.ts");class a{constructor(e){var t,i,A;this.properties=new Map,this.tiledObject=e.tiledObject,this.name=this.tiledObject.name,this.class=this.tiledObject.type,this.id=null!==(t=this.tiledObject.id)&&void 0!==t?t:-1,this.x=null!==(i=this.tiledObject.x)&&void 0!==i?i:0,this.y=null!==(A=this.tiledObject.y)&&void 0!==A?A:0}}class o extends a{constructor(e,t){if(super({tiledObject:e}),!e.template)throw new Error("Invalid template");if(this.source=e.template,this.tiledTemplate=e,this.template=t,t.object){this.name=this.name||t.object.name,this.class=this.class||t.object.class;for(const[e,i]of t.object.properties.entries())this.properties.has(e)||this.properties.set(e,i)}if(t.tileset&&t.object.tiledObject.gid){const e=t.tileset.getTileByGid(t.object.tiledObject.gid);if(e){this.class=this.class||e.class;for(const[t,i]of e.properties.entries())this.properties.has(t)||this.properties.set(t,i)}}}}class n extends a{constructor(e,t,i,A){super({tiledObject:e}),this.gid=t,this.width=i,this.height=A}}class l extends a{}class d extends a{constructor(e,t,i,s){var r,a,o;super({tiledObject:e}),this.font=new A.Font({family:null!==(r=t.fontfamily)&&void 0!==r?r:"sans-serif",color:t.color?A.Color.fromHex(t.color):A.Color.Black,size:null!==(a=t.pixelsize)&&void 0!==a?a:16,unit:A.FontUnit.Px,textAlign:this._textAlignFromTiled(t.halign),baseAlign:this._textBaselineFromTiled(t.valign),quality:s});const n=null!==(o=t.wrap)&&void 0!==o&&o;this.text=new A.Text({text:t.text,font:this.font,...n?{maxWidth:i+10}:{}})}_textBaselineFromTiled(e){switch(e){case"bottom":return A.BaseAlign.Bottom;case"center":return A.BaseAlign.Middle;default:return A.BaseAlign.Top}}_textAlignFromTiled(e){switch(e){case"left":default:return A.TextAlign.Left;case"center":return A.TextAlign.Center;case"right":return A.TextAlign.Right;case"justify":return A.TextAlign.Start}}}class c extends a{constructor(e,t,i){super({tiledObject:e}),this.width=t,this.height=i}}class g extends a{constructor(e,t,i,A){super({tiledObject:e}),this.width=t,this.height=i,this.anchor=A}}class h extends a{constructor(e,t){super({tiledObject:e}),this.points=[],this.localPoints=[],this.localPoints=t.map((e=>(0,A.vec)(e.x,e.y))),this.points=t.map((e=>(0,A.vec)(e.x,e.y).add((0,A.vec)(this.x,this.y))))}}class u extends a{constructor(e,t){super({tiledObject:e}),this.points=[],this.points=t.map((e=>(0,A.vec)(e.x,e.y)))}}function p(e,t){var i,a,p,I;let f;if(e.point)f=new l({tiledObject:e});else if(e.ellipse)e.width&&e.height?(f=new c(e,e.width,e.height),f.x+=e.width/2,f.y+=e.height/2):f=new c(e,20,20);else if(e.polygon)f=new h(e,e.polygon);else if(e.polyline)f=new u(e,e.polyline);else if(e.text)f=new d(e,e.text,null!==(i=e.width)&&void 0!==i?i:0,null!==(a=null==t?void 0:t.textQuality)&&void 0!==a?a:4);else if(e.gid){f=new n(e,e.gid,null!==(p=e.width)&&void 0!==p?p:0,null!==(I=e.height)&&void 0!==I?I:0);const i=null==t?void 0:t.getTilesetForTileGid(e.gid);let A=e.type;if(i){const t=null==i?void 0:i.getTileByGid(e.gid);if(A=A||(null==t?void 0:t.class),null==t?void 0:t.properties)for(const[e,i]of t.properties.entries())f.properties.has(e)||f.properties.set(e,i)}f.class=A}else if(e.template&&t){const i=t.templates.find((t=>(0,r.filenameFromPath)(t.templatePath)===(0,r.filenameFromPath)(e.template)));if(!i)throw new Error(`Template object id ${e.id} with name ${e.name} is missing a loaded template file, there should be one loaded from ${e.template}! Is your tiled map or template corrupted?`);f=new o(e,i)}else f=e.width&&e.height?new g(e,e.width,e.height,A.Vector.Zero):new g(e,20,20,A.Vector.Half);return(0,s.mapProps)(f,e.properties),f}function I(e,t){const i=[];for(const A of e.objects){let e=p(A,t);i.push(e)}return i}},"./src/resource/path-util.ts":(e,t,i)=>{"use strict";function A(e){const t=e.match(/[^/\\&\?]+\.\w{2,4}(?=([\#\?&].*$|$))/gi);if(t)return t[0];throw new Error(`Could not locate filename from path: ${e}`)}function s(e,t){for(const{path:i,output:A}of t)if("string"==typeof i){if(e.includes(i))return A}else{const t=e.match(i);if(t)return A.replace("[match]",t[0])}return e}function r(e,t){if(!t)return!1;for(const{path:i,output:A}of t)if("string"==typeof i){if(e.includes(i))return!0}else if(e.match(i))return!0;return!1}function a(e,t,i){if(r(t,i)&&i)return s(t,i);if(0===t.indexOf("/"))return t;const A=e.split("/"),a=t.split("/");return A[A.length-1].includes(".")&&A.pop(),A.concat(a).join("/")}i.r(t),i.d(t,{filenameFromPath:()=>A,mapPath:()=>s,pathInMap:()=>r,pathRelativeToBase:()=>a})},"./src/resource/properties.ts":(e,t,i)=>{"use strict";function A(e,t){try{if(t)for(const i of t){let t=i.value;"string"==typeof i.value&&(t=i.value.toLocaleLowerCase()),e.properties.set(i.name.toLocaleLowerCase(),t)}}catch(t){console.error(`Unable to map properties onto ${e}`,t)}}i.r(t),i.d(t,{mapProps:()=>A})},"./src/resource/template-resource.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TemplateResource:()=>c});var A=i("excalibur"),s=i("./src/parser/tiled-parser.ts"),r=i("./src/resource/file-loader.ts"),a=i("./src/resource/loader-cache.ts"),o=i("./src/resource/objects.ts"),n=i("./src/resource/path-util.ts"),l=i("./src/resource/template.ts"),d=i("./src/resource/tileset-resource.ts");class c{constructor(e,t){this.templatePath=e,this.headless=!1,this.strict=!0,this.fileLoader=r.FetchLoader;const{fileLoader:i,parser:o,pathMap:n,imageLoader:l,strict:d,headless:c}={...t};this.headless=null!=c?c:this.headless,this.strict=null!=d?d:this.strict,this.fileLoader=null!=i?i:this.fileLoader,this.imageLoader=null!=l?l:new a.LoaderCache(A.ImageSource),this.parser=null!=o?o:new s.TiledParser,this.pathMap=n}isLoaded(){return!!this.data}async load(){const e=this.templatePath.includes(".tx")?"xml":"json";try{const t=await this.fileLoader(this.templatePath,e);let i;i="xml"===e?this.parser.parseExternalTemplate(t,this.strict):this.strict?s.TiledTemplate.parse(t):t;const A=i,r=(0,o.parseObject)(i.object);let a;if(i.tileset){const e=(0,n.pathRelativeToBase)(this.templatePath,i.tileset.source,this.pathMap),t=new d.TilesetResource(e,i.tileset.firstgid,{headless:this.headless,strict:this.strict,fileLoader:this.fileLoader,imageLoader:this.imageLoader,parser:this.parser,pathMap:this.pathMap});a=await t.load()}return this.data=new l.Template({templatePath:this.templatePath,tiledTemplate:A,object:r,tileset:a})}catch(e){throw console.error(`Could not load template at ${this.templatePath}, check to see if your pathMap is correct or if you're Tiled map is corrupted`),e}}}},"./src/resource/template.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{Template:()=>A});class A{constructor(e){const{templatePath:t,object:i,tiledTemplate:A,tileset:s}=e;this.templatePath=t,this.object=i,this.tiledTemplate=A,this.tileset=s}}},"./src/resource/tile-layer.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TileLayer:()=>c});var A=i("excalibur"),s=i("./src/resource/properties.ts"),r=i("./src/parser/tiled-parser.ts"),a=i("./src/resource/decoder.ts"),o=i("./src/resource/gid-util.ts"),n=i("./src/resource/excalibur-properties.ts"),l=i("./src/resource/tiled-layer-component.ts"),d=i("./src/resource/filter-util.ts");class c{getTilesByGid(e){var t;return null!==(t=this._gidToTileInfo.get(e))&&void 0!==t?t:[]}getTilesByClassName(e){return this.tilemap.tiles.filter((t=>{const i=t.data.get(n.ExcaliburTiledProperties.TileData.Tiled);return!!i&&(0,d.byClassCaseInsensitive)(e)(i)})).map((e=>({exTile:e,tiledTile:e.data.get(n.ExcaliburTiledProperties.TileData.Tiled)})))}getTilesByProperty(e,t){return this.tilemap.tiles.filter((i=>{const A=i.data.get(n.ExcaliburTiledProperties.TileData.Tiled);return!!A&&(0,d.byPropertyCaseInsensitive)(e,t)(A)})).map((e=>({exTile:e,tiledTile:e.data.get(n.ExcaliburTiledProperties.TileData.Tiled)})))}getTileByPoint(e){if(!this.tilemap)return this.logger.warn("Tilemap has not yet been loaded! getTileByPoint() will only return null"),null;if(this.tilemap){const t=this.tilemap.getTileByPoint(e);if(!t)return null;const i=this.tilemap.tiles.indexOf(t),A=(0,o.getCanonicalGid)(this.data[i]);return A<=0?null:{tiledTile:this.resource.getTilesetForTileGid(A).getTileByGid(A),exTile:t}}return null}getTileByCoordinate(e,t){if(!this.tilemap)return this.logger.warn("Tilemap has not yet been loaded! getTileByCoordinate() will only return null"),null;if(this.tilemap){const i=this.tilemap.getTile(e,t),A=this.tilemap.tiles.indexOf(i),s=(0,o.getCanonicalGid)(this.data[A]);return s<=0?null:{tiledTile:this.resource.getTilesetForTileGid(s).getTileByGid(s),exTile:i}}return null}constructor(e,t,i){this.tiledTileLayer=e,this.resource=t,this.order=i,this.logger=A.Logger.getInstance(),this.width=0,this.height=0,this.properties=new Map,this.data=[],this._gidToTileInfo=new Map,this.name=e.name,this.class=e.class,this.width=e.width,this.height=e.height,(0,s.mapProps)(this,e.properties)}_recordTileData(e,t){let i=this._gidToTileInfo.get(e),A=this.resource.getTilesetForTileGid(e).getTileByGid(e);i?i.push({exTile:t,tiledTile:A}):i=[{exTile:t,tiledTile:A}],this._gidToTileInfo.set(e,i),t.data.set(n.ExcaliburTiledProperties.TileData.Tiled,A)}updateTile(e,t,i,s,r){this._recordTileData(t,e),this.resource.useExcaliburWiring&&r&&(e.solid=!0);const a=this.resource.getTilesetForTileGid(t),o=this.resource.headless;if(!o){let A=a.getSpriteForGid(t);i&&(A=A.clone(),A.tint=s),e.addGraphic(A,{offset:a.tileOffset})}const l=a.getCollidersForGid(t);for(let t of l)e.addCollider(t);let d=o?null:a.getAnimationForGid(t);if(d&&(i&&(d=d.clone(),d.tint=s),e.clearGraphics(),e.addGraphic(d,{offset:a.tileOffset}),this.resource.useExcaliburWiring)){const e=a.getTileByGid(t),i=null==e?void 0:e.properties.get(n.ExcaliburTiledProperties.Animation.Strategy);if(i&&"string"==typeof i)switch(i.toLowerCase()){case A.AnimationStrategy.End.toLowerCase():d.strategy=A.AnimationStrategy.End;break;case A.AnimationStrategy.Freeze.toLowerCase():d.strategy=A.AnimationStrategy.Freeze;break;case A.AnimationStrategy.Loop.toLowerCase():d.strategy=A.AnimationStrategy.Loop;break;case A.AnimationStrategy.PingPong.toLowerCase():d.strategy=A.AnimationStrategy.PingPong;break;default:this.logger.warn(`Unknown animation strategy in tileset ${a.name} on tile gid ${t}: ${i}`)}}}async load(){var e,t,i,s;const o=this.tiledTileLayer.opacity,d=!!this.tiledTileLayer.tintcolor,c=this.tiledTileLayer.tintcolor?A.Color.fromHex(this.tiledTileLayer.tintcolor):A.Color.Transparent,g=!!this.properties.get(n.ExcaliburTiledProperties.Layer.Solid),h=this.tiledTileLayer,u=(0,A.vec)(null!==(e=h.offsetx)&&void 0!==e?e:0,null!==(t=h.offsety)&&void 0!==t?t:0);if(this.tiledTileLayer.data&&(0,r.needsDecoding)(this.tiledTileLayer)?this.data=await a.Decoder.decode(this.tiledTileLayer.data,this.tiledTileLayer.compression):this.tiledTileLayer.data&&(0,r.isCSV)(this.tiledTileLayer)&&(this.data=this.tiledTileLayer.data),this.resource.map.infinite&&(0,r.isInfiniteLayer)(this.tiledTileLayer)){const e=(0,A.vec)(this.tiledTileLayer.startx*this.resource.map.tilewidth,this.tiledTileLayer.starty*this.resource.map.tileheight);this.tilemap=new A.TileMap({name:this.name,pos:u.add(e),tileHeight:this.resource.map.tileheight,tileWidth:this.resource.map.tilewidth,columns:h.width,rows:h.height})}else this.tilemap=new A.TileMap({name:this.name,pos:u,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight,columns:h.width,rows:h.height});this.tilemap.addComponent(new l.TiledLayerDataComponent({tiledTileLayer:h}));const p=this.tilemap.get(A.TransformComponent);if(p){p.z=this.order;let e=this.properties.get(n.ExcaliburTiledProperties.ZIndex.ZIndex);"number"==typeof e&&(p.z=e)}const I=this.tilemap.get(A.GraphicsComponent);if(I&&(I.visible=this.tiledTileLayer.visible,I.opacity=o),h.parallaxx||h.parallaxy){const e=(0,A.vec)(null!==(i=h.parallaxx)&&void 0!==i?i:1,null!==(s=h.parallaxy)&&void 0!==s?s:1);this.tilemap.addComponent(new A.ParallaxComponent(e))}if(this.resource.map.infinite&&(0,r.isInfiniteLayer)(this.tiledTileLayer)){const e=this.tiledTileLayer;for(let t of this.tiledTileLayer.chunks){let i=[];(0,r.needsDecoding)(this.tiledTileLayer)?i=await a.Decoder.decode(t.data,e.compression):(0,r.isCSV)(this.tiledTileLayer)&&(i=t.data);for(let e=0;e<i.length;e++){const A=i[e];if(0!=A){const i=e%t.width+(t.x-this.tiledTileLayer.startx),s=Math.floor(e/t.width)+(t.y-this.tiledTileLayer.starty),r=this.tilemap.tiles[i+s*h.width];this.updateTile(r,A,d,c,g)}}}}else for(let e=0;e<this.data.length;e++){let t=this.data[e];if(0!==t){const i=this.tilemap.tiles[e];this.updateTile(i,t,d,c,g)}}}}},"./src/resource/tiled-data-component.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledDataComponent:()=>s});var A=i("excalibur");class s extends A.Component{constructor(e){super();const{tiledObject:t}=e;this.tiledObject=t}}},"./src/resource/tiled-layer-component.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledLayerDataComponent:()=>s});var A=i("excalibur");class s extends A.Component{constructor(e){super();const{tiledTileLayer:t}=e;this.tiledTileLayer=t}}},"./src/resource/tiled-resource.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TiledResource:()=>C});var A=i("excalibur"),s=i("./src/parser/tiled-parser.ts"),r=i("./src/resource/tileset.ts"),a=i("./src/resource/iso-tile-layer.ts"),o=i("./src/resource/tile-layer.ts"),n=i("./src/resource/object-layer.ts"),l=i("./node_modules/compare-versions/lib/esm/compare.js"),d=i("./src/resource/gid-util.ts"),c=i("./src/resource/path-util.ts"),g=i("./src/resource/filter-util.ts"),h=i("./src/resource/excalibur-properties.ts"),u=i("./src/resource/file-loader.ts"),p=i("./src/resource/tileset-resource.ts"),I=i("./src/resource/loader-cache.ts"),f=i("./src/resource/template-resource.ts"),m=i("./src/resource/image-layer.ts");class C{constructor(e,t){this.path=e,this.logger=A.Logger.getInstance(),this.tilesets=[],this.templates=[],this.layers=[],this.mapFormat="TMX",this.strict=!0,this.factories=new Map,this.parser=new s.TiledParser,this.fileLoader=u.FetchLoader,this.startZIndex=0,this.textQuality=4,this.useExcaliburWiring=!0,this.useMapBackgroundColor=!1,this.useTilemapCameraStrategy=!1,this.headless=!1,this._imageLoader=new I.LoaderCache(A.ImageSource),this._tilesetLoader=new I.LoaderCache(p.TilesetResource),this._templateLoader=new I.LoaderCache(f.TemplateResource);const{mapFormatOverride:i,textQuality:r,entityClassNameFactories:a,useExcaliburWiring:o,useTilemapCameraStrategy:n,useMapBackgroundColor:l,pathMap:d,fileLoader:c,strict:g,headless:h,startZIndex:m}={...t};this.strict=null!=g?g:this.strict,this.headless=null!=h?h:this.headless,this.useExcaliburWiring=null!=o?o:this.useExcaliburWiring,this.useTilemapCameraStrategy=null!=n?n:this.useTilemapCameraStrategy,this.useMapBackgroundColor=null!=l?l:this.useMapBackgroundColor,this.textQuality=null!=r?r:this.textQuality,this.startZIndex=null!=m?m:this.startZIndex,this.fileLoader=null!=c?c:this.fileLoader,this.pathMap=d;for(const e in a)this.registerEntityFactory(e,a[e]);this.mapFormat=null!=i?i:e.includes(".tmx")?"TMX":"TMJ"}registerEntityFactory(e,t){if(this.factories.has(e)&&console.warn(`Another factory has already been registered for tiled class/type "${e}", this is probably a bug.`),this.factories.set(e,t),this.isLoaded())for(let t of this.getObjectLayers())t.runFactory(e)}unregisterEntityFactory(e){this.factories.has(e)||console.warn(`No factory has been registered for tiled class/type "${e}", cannot unregister!`),this.factories.delete(e)}getTilesetForTileGid(e){const t=(0,d.getCanonicalGid)(e);if(this.tilesets)for(let e of this.tilesets)if(t>=e.firstGid&&t<=e.firstGid+e.tileCount-1)return e;throw Error(`No tileset exists for tiled gid [${e}] normalized [${t}]!`)}getTilesetByName(e){return this.tilesets.filter((0,g.byNameCaseInsensitive)(e))}getTilesetByClassName(e){return this.tilesets.filter((0,g.byClassCaseInsensitive)(e))}getTilesetByProperty(e,t){return this.tilesets.filter((0,g.byPropertyCaseInsensitive)(e,t))}getTileMetadataByClassName(e){let t=[];for(let i of this.tilesets)t=t.concat(i.tiles.filter((0,g.byClassCaseInsensitive)(e)));return t}getTileMetadataByProperty(e,t){let i=[];for(let A of this.tilesets)i=i.concat(A.tiles.filter((0,g.byPropertyCaseInsensitive)(e,t)));return i}getTilesByGid(e){if("orthogonal"===this.map.orientation){let t=[];for(let i of this.getTileLayers())t=t.concat(i.getTilesByGid(e));return t}{let t=[];for(let i of this.getIsoTileLayers())t=t.concat(i.getTilesByGid(e));return t}}getTilesByClassName(e){if("orthogonal"===this.map.orientation){let t=[];for(let i of this.getTileLayers())t=t.concat(i.getTilesByClassName(e));return t}{let t=[];for(let i of this.getIsoTileLayers())t=t.concat(i.getTilesByClassName(e));return t}}getTilesByProperty(e,t){if("orthogonal"===this.map.orientation){let i=[];for(let A of this.getTileLayers())i=i.concat(A.getTilesByProperty(e,t));return i}{let i=[];for(let A of this.getIsoTileLayers())i=i.concat(A.getTilesByProperty(e,t));return i}}getTileByPoint(e,t){if("isometric"===this.map.orientation){const i=this.getIsoTileLayers().find((0,g.byNameCaseInsensitive)(e));if(i)return i.getTileByPoint(t)}else{const i=this.getTileLayers().find((0,g.byNameCaseInsensitive)(e));if(i)return i.getTileByPoint(t)}return null}getTilesByPoint(e){if("orthogonal"===this.map.orientation){let t=[];for(let i of this.getTileLayers()){const A=i.getTileByPoint(e);A&&t.push(A)}return t}{let t=[];for(let i of this.getIsoTileLayers()){const A=i.getTileByPoint(e);A&&t.push(A)}return t}}getObjectsByName(e){let t=[];for(let i of this.getObjectLayers())t=t.concat(i.getObjectsByName(e));return t}getEntitiesByName(e){let t=[];for(let i of this.getObjectLayers())t=t.concat(i.getEntitiesByName(e));return t}getEntityByObject(e){for(let t of this.getObjectLayers()){const i=t.getEntityByObject(e);if(i)return i}}getObjectByEntity(e){for(let t of this.getObjectLayers()){const i=t.getObjectByEntity(e);if(i)return i}}getObjectsByProperty(e,t){let i=[];for(let A of this.getObjectLayers())i=i.concat(A.getObjectsByProperty(e,t));return i}getEntitiesByProperty(e,t){let i=[];for(let A of this.getObjectLayers())i=i.concat(A.getEntitiesByProperty(e,t));return i}getObjectsByClassName(e){let t=[];for(let i of this.getObjectLayers())t=t.concat(i.getObjectsByClassName(e));return t}getEntitiesByClassName(e){let t=[];for(let i of this.getObjectLayers())t=t.concat(i.getEntitiesByClassName(e));return t}getTileByCoordinate(e,t,i){const A=this.getTileLayers().find((0,g.byNameCaseInsensitive)(e));return A?A.getTileByCoordinate(t,i):null}getImageLayers(e){const t=this.layers.filter((e=>e instanceof m.ImageLayer));return e?t.filter((0,g.byNameCaseInsensitive)(e)):t}getTileLayers(e){const t=this.layers.filter((e=>e instanceof o.TileLayer));return e?t.filter((0,g.byNameCaseInsensitive)(e)):t}getIsoTileLayers(e){const t=this.layers.filter((e=>e instanceof a.IsoTileLayer));return e?t.filter((0,g.byNameCaseInsensitive)(e)):t}getObjectLayers(e){const t=this.layers.filter((e=>e instanceof n.ObjectLayer));return e?t.filter((0,g.byNameCaseInsensitive)(e)):t}getLayersByName(e){return this.layers.filter((0,g.byNameCaseInsensitive)(e))}getLayersByClassName(e){return this.layers.filter((0,g.byClassCaseInsensitive)(e))}getLayersByProperty(e,t){return this.layers.filter((0,g.byPropertyCaseInsensitive)(e,t))}_parseMap(e){return"TMX"===this.mapFormat?this.parser.parse(e,this.strict):e}async load(){var e;const t=await this.fileLoader(this.path,"TMX"===this.mapFormat?"xml":"json");let i;if(this.strict)try{i=this._parseMap(t)}catch(e){throw console.error(`Could not parse tiled map from location ${this.path}, attempted to interpret as ${this.mapFormat}.\nExcalibur only supports the latest version of Tiled formats as of the plugin's release.`),console.error("Is your map file corrupted or being interpreted as the wrong type?"),e}else i=this._parseMap(t);(0,l.compare)(C.supportedTiledVersion,null!==(e=i.tiledversion)&&void 0!==e?e:"0.0.0",">")&&console.warn(`The excalibur tiled plugin officially supports ${C.supportedTiledVersion}+, the current map has tiled version ${i.tiledversion}`),this.map=i,this._collectTilesets(),this._collectTemplates(),await Promise.all([this._tilesetLoader.load(),this.headless?Promise.resolve():this._imageLoader.load(),this._templateLoader.load()]),this.tilesets=[...this.tilesets,...this._tilesetLoader.values().map((e=>e.data))],this.templates=this._templateLoader.values().map((e=>e.data));let A=[],s=this.startZIndex;for(const e of this.map.layers){if("tilelayer"===e.type){if("isometric"===this.map.orientation){const t=new a.IsoTileLayer(e,this,s);A.push(t)}if("orthogonal"===this.map.orientation){const t=new o.TileLayer(e,this,s);A.push(t)}}if("objectgroup"===e.type){const t=new n.ObjectLayer(e,this,s);A.push(t)}if("imagelayer"===e.type){const t=new m.ImageLayer(e,this,s);A.push(t)}s++}await Promise.all(A.map((e=>e.load()))),this.layers=A}_collectTilesets(){for(const e of this.map.tilesets){if((0,s.isTiledTilesetEmbedded)(e)){if((0,s.isTiledTilesetSingleImage)(e)){const t=(0,c.pathRelativeToBase)(this.path,e.image,this.pathMap),i=this._imageLoader.getOrAdd(t),A=new r.Tileset({name:e.name,tiledTileset:e,image:i,firstGid:e.firstgid});this.tilesets.push(A)}if((0,s.isTiledTilesetCollectionOfImages)(e)){const t=new Map;if(e.tiles)for(let i of e.tiles)if(i.image){const e=(0,c.pathRelativeToBase)(this.path,i.image,this.pathMap),A=this._imageLoader.getOrAdd(e);t.set(i,A)}const i=new r.Tileset({name:e.name,tiledTileset:e,tileToImage:t,firstGid:e.firstgid});this.tilesets.push(i)}}if((0,s.isTiledTilesetExternal)(e)){const t=(0,c.pathRelativeToBase)(this.path,e.source,this.pathMap);this._tilesetLoader.getOrAdd(t,e.firstgid,{strict:this.strict,headless:this.headless,parser:this.parser,fileLoader:this.fileLoader,imageLoader:this._imageLoader,pathMap:this.pathMap})}}}_collectTemplates(){let e=[];for(const t of this.map.layers)if("objectgroup"===t.type){let i=t.objects.filter((e=>e.template)).map((e=>e.template));e=e.concat(i)}const t=e.filter(((e,t,i)=>i.findIndex((t=>t===e))===t));for(const e of t){const t=(0,c.pathRelativeToBase)(this.path,e,this.pathMap);this._templateLoader.getOrAdd(t,{strict:this.strict,headless:this.headless,parser:this.parser,fileLoader:this.fileLoader,imageLoader:this._imageLoader,pathMap:this.pathMap})}}addToScene(e,t){if(!this.isLoaded())return void this.logger.warn(`TiledResource ${this.path} is not loaded! Nothing will be wired into excalibur!`);const i={pos:(0,A.vec)(0,0)},{pos:s}={...i,...t};for(const t of this.layers){if(t instanceof o.TileLayer&&(t.tilemap.pos=t.tilemap.pos.add(s),e.add(t.tilemap)),t instanceof a.IsoTileLayer&&e.add(t.isometricMap),t instanceof n.ObjectLayer)for(const i of t.entities){const t=i.get(A.TransformComponent);t&&(t.pos=t.pos.add(s)),e.add(i)}t instanceof m.ImageLayer&&t.imageActor&&(t.imageActor.pos=t.imageActor.pos.add(s),e.add(t.imageActor))}if(this.useExcaliburWiring){const t=this.getObjectsByProperty(h.ExcaliburTiledProperties.Camera.Camera,!0);if(t&&t.length){const i=t[0];let s=1;const r=i.properties.get(h.ExcaliburTiledProperties.Camera.Zoom);r&&"number"==typeof r&&(s=r),"isometric"===this.map.orientation?e.camera.pos=this.isometricTiledCoordToWorld(i.x,i.y):e.camera.pos=(0,A.vec)(i.x,i.y),e.camera.zoom=s}}if(this.useTilemapCameraStrategy){const t=this.getTileLayers()[0];if(t){const i=A.BoundingBox.fromDimension(this.map.width*this.map.tilewidth,this.map.height*this.map.tileheight,A.Vector.Zero,s.add(t.tilemap.pos));e.camera.strategy.limitCameraBounds(i)}}this.useMapBackgroundColor&&this.map.backgroundcolor&&(e.backgroundColor=A.Color.fromHex(this.map.backgroundcolor))}isometricTiledCoordToWorld(e,t){const i=this.map.tilewidth,s=this.map.tileheight,r=t/s,a=e/s;return(0,A.vec)((a-r)*i/2+0,(a+r)*s/2)}isLoaded(){return!!this.map}}C.supportedTiledVersion="1.10.1"},"./src/resource/tileset-resource.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{TilesetResource:()=>l});var A=i("excalibur"),s=i("./src/resource/tileset.ts"),r=i("./src/parser/tiled-parser.ts"),a=i("./src/resource/file-loader.ts"),o=i("./src/resource/path-util.ts"),n=i("./src/resource/loader-cache.ts");class l{constructor(e,t,i){this.path=e,this.strict=!0,this.headless=!1,this.orientation="orthogonal",this.fileLoader=a.FetchLoader;const{fileLoader:s,parser:o,pathMap:l,imageLoader:d,strict:c,headless:g,orientation:h}={...i};this.headless=null!=g?g:this.headless,this.orientation=null!=h?h:this.orientation,this.strict=null!=c?c:this.strict,this.fileLoader=null!=s?s:this.fileLoader,this.imageLoader=null!=d?d:new n.LoaderCache(A.ImageSource),this.parser=null!=o?o:new r.TiledParser,this.firstGid=t,this.pathMap=l}async load(){const e=this.path.includes(".tsx")?"xml":"json";try{const t=await this.fileLoader(this.path,e);let i;if(i="json"===e?this.strict?r.TiledTilesetFile.parse(t):t:this.parser.parseExternalTileset(t,this.strict),(0,r.isTiledTilesetSingleImage)(i)){const e=(0,o.pathRelativeToBase)(this.path,i.image,this.pathMap),t=this.headless?void 0:this.imageLoader.getOrAdd(e);this.data=new s.Tileset({name:i.name,tiledTileset:i,firstGid:this.firstGid,image:t})}if((0,r.isTiledTilesetCollectionOfImages)(i)){const e=this.headless?void 0:new Map;if(e){const t=[];if(i.tiles)for(let A of i.tiles)if(A.image){const i=(0,o.pathRelativeToBase)(this.path,A.image,this.pathMap),s=this.imageLoader.getOrAdd(i);e.set(A,s),t.push(s)}}i.firstgid=this.firstGid,this.data=new s.Tileset({name:i.name,tiledTileset:i,firstGid:this.firstGid,tileToImage:e})}if(this.headless||await this.imageLoader.load(),this.data)return this.data}catch(e){throw console.error(`Could not load tileset at path ${this.path}`),e}throw new Error(`No tileset at path ${this.path}`)}isLoaded(){return!!this.data}}},"./src/resource/tileset.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{Tile:()=>l,Tileset:()=>d});var A=i("excalibur"),s=i("./src/resource/gid-util.ts"),r=i("./src/parser/tiled-parser.ts"),a=i("./src/resource/objects.ts"),o=i("./src/resource/properties.ts"),n=i("./src/resource/filter-util.ts");class l{constructor(e){this.objects=[],this.colliders=[],this.animation=[],this.properties=new Map;const{id:t,tileset:i,tiledTile:A}=e;this.id=t,this.tileset=i,this.tiledTile=A,this.class=A.type,(0,o.mapProps)(this,A.properties),A.objectgroup&&A.objectgroup.objects&&(this.objects=(0,a.parseObjects)(A.objectgroup)),A.animation&&(this.animation=A.animation)}}class d{constructor(e){var t,i,s,a,n,d,c,g,h,u;this.firstGid=-1,this.tileCount=0,this.tileWidth=0,this.tileHeight=0,this.tileOffset=(0,A.vec)(0,0),this.tiles=[],this.objectalignment="bottomleft",this.orientation="orthogonal",this.properties=new Map;const{name:p,tiledTileset:I,image:f,tileToImage:m,firstGid:C}=e;if(this.name=p,this.tiledTileset=I,this.firstGid=C,(0,r.isTiledTilesetSingleImage)(I)){(0,o.mapProps)(this,I.properties);const e=I.spacing,r=Math.floor((I.imagewidth+e)/(I.tilewidth+e)),g=Math.floor((I.imageheight+e)/(I.tileheight+e));if(this.class=I.class,this.orientation=null!==(i=null===(t=I.grid)||void 0===t?void 0:t.orientation)&&void 0!==i?i:"orthogonal",this.horizontalFlipTransform=A.AffineMatrix.identity().translate(I.tilewidth,0).scale(-1,1),this.verticalFlipTransform=A.AffineMatrix.identity().translate(0,I.tileheight).scale(1,-1),this.diagonalFlipTransform=A.AffineMatrix.identity().translate(0,0).rotate(-Math.PI/2).scale(-1,1),this.objectalignment=null!==(s=I.objectalignment)&&void 0!==s?s:"orthogonal"===this.orientation?"bottomleft":"bottom",f&&(this.spritesheet=A.SpriteSheet.fromImageSource({image:f,grid:{rows:g,columns:r,spriteWidth:I.tilewidth,spriteHeight:I.tileheight},spacing:{originOffset:{x:null!==(a=I.margin)&&void 0!==a?a:0,y:null!==(n=I.margin)&&void 0!==n?n:0},margin:{x:null!==(d=I.spacing)&&void 0!==d?d:0,y:null!==(c=I.spacing)&&void 0!==c?c:0}}})),this.tileCount=I.tilecount,this.tileWidth=I.tilewidth,this.tileHeight=I.tileheight,I.tileoffset&&(this.tileOffset=(0,A.vec)(I.tileoffset.x,I.tileoffset.y)),I.tiles)for(const e of I.tiles)this.tiles.push(new l({id:e.id,tileset:this,tiledTile:e,image:f}))}if((0,r.isTiledTilesetCollectionOfImages)(I)&&void 0!==I.firstgid){this.horizontalFlipTransform=A.AffineMatrix.identity().translate(I.tilewidth,0).scale(-1,1),this.verticalFlipTransform=A.AffineMatrix.identity().translate(0,I.tileheight).scale(1,-1),this.diagonalFlipTransform=A.AffineMatrix.identity().translate(0,0).rotate(-Math.PI/2).scale(-1,1),this.objectalignment=null!==(g=I.objectalignment)&&void 0!==g?g:"orthogonal"===this.orientation?"bottomleft":"bottom",this.orientation=null!==(u=null===(h=I.grid)||void 0===h?void 0:h.orientation)&&void 0!==u?u:"orthogonal",this.tileCount=I.tilecount,this.tileWidth=I.tilewidth,this.tileHeight=I.tileheight,I.tileoffset&&(this.tileOffset=(0,A.vec)(I.tileoffset.x,I.tileoffset.y));let e=[];if(I.tiles)for(const t of I.tiles){const i=null==m?void 0:m.get(t);i&&e.push(i.toSprite()),this.tiles.push(new l({id:t.id,tileset:this,tiledTile:t,image:i}))}m&&(this.spritesheet=new A.SpriteSheet({sprites:e}))}}getTilesetAlignmentAnchor(e){switch(null!=e?e:this.objectalignment){case"topleft":return(0,A.vec)(0,0);case"top":return(0,A.vec)(.5,0);case"topright":return(0,A.vec)(1,0);case"left":return(0,A.vec)(0,.5);case"center":return(0,A.vec)(.5,.5);case"right":return(0,A.vec)(1,.5);case"bottomleft":default:return(0,A.vec)(0,1);case"bottom":return(0,A.vec)(.5,1);case"bottomright":return(0,A.vec)(1,1)}}getTileByGid(e){const t=(0,s.getCanonicalGid)(e)-this.firstGid;return this.tiles.find((e=>e.id===t))}getTilesByClassName(e){return this.tiles.filter((0,n.byClassCaseInsensitive)(e))}getTilesByProperty(e,t){return this.tiles.filter((0,n.byPropertyCaseInsensitive)(e,t))}getSpriteForGid(e){const t=(0,s.isFlippedHorizontally)(e),i=(0,s.isFlippedVertically)(e),r=(0,s.isFlippedDiagonally)(e),a=(0,s.getCanonicalGid)(e),o=a-this.firstGid;if(this.spritesheet){let e=this.spritesheet.sprites[o];return(r||t||i)&&(e=e.clone()),r&&(e.rotation=-Math.PI/2,e.scale=(0,A.vec)(-1,1)),t&&(e.scale=(0,A.vec)((r?1:-1)*e.scale.x,(r?-1:1)*e.scale.y)),i&&(e.scale=(0,A.vec)((r?-1:1)*e.scale.x,(r?1:-1)*e.scale.y)),e}throw new Error(`Tileset: [${this.name}] Could not find sprite for gid: [${e}] normalized gid: [${a}]`)}_isometricTiledCoordToWorld(e){const t=this.tileWidth,i=this.tileHeight/2,s=e.y/i,r=e.x/i;return(0,A.vec)((r-s)*t/2+0,(r+s)*i/2)}getCollidersForGid(e,t){let{anchor:i,scale:s,orientationOverride:r,offset:o}={anchor:A.Vector.Zero,scale:A.Vector.One,offset:A.Vector.Zero,orientationOverride:void 0,...t};const n=null!=r?r:this.orientation,l=this.getTileByGid(e),d=[];if(l&&l.objects)for(let t of l.objects){if(t instanceof a.Polygon){let i=t.points.map((e=>e.scale(s)));i=this._applyFlipsToPoints(i,e),"isometric"===n&&(i=i.map((e=>this._isometricTiledCoordToWorld(e)))),i=i.map((e=>e.add(o)));let r=A.Shape.Polygon(i,A.Vector.Zero,!0);r.isConvex()?d.push(r):d.push(r.triangulate())}if(t instanceof a.Rectangle){let r=A.BoundingBox.fromDimension(t.width*s.x,t.height*s.y,i).getPoints().map((e=>e.add((0,A.vec)(t.x,t.y))));"isometric"===n&&(r=r.map((e=>this._isometricTiledCoordToWorld(e)))),r=this._applyFlipsToPoints(r,e),r=r.map((e=>e.add(o)));const a=A.Shape.Polygon(r);d.push(a)}if(t instanceof a.Ellipse){let e=(0,A.vec)(t.x,t.y);"isometric"===n&&(e=this._isometricTiledCoordToWorld(e)),e=e.add(o);const i=Math.min(t.width/2,t.height/2),r=A.Shape.Circle(i,e.scale(s));d.push(r)}}return d}_applyFlipsToPoints(e,t){const i=(0,s.isFlippedHorizontally)(t),A=(0,s.isFlippedVertically)(t);return(0,s.isFlippedDiagonally)(t)&&(e=e.map((e=>this.diagonalFlipTransform.multiply(e)))),i&&(e=e.map((e=>this.horizontalFlipTransform.multiply(e)))),A&&(e=e.map((e=>this.verticalFlipTransform.multiply(e)))),e}getAnimationForGid(e){var t;const i=this.getTileByGid(e);if(i&&(null===(t=i.animation)||void 0===t?void 0:t.length)){let e=[];for(let t of i.animation)e.push({graphic:this.getSpriteForGid(t.tileid+this.firstGid),duration:t.duration});return new A.Animation({frames:e,strategy:A.AnimationStrategy.Loop})}return null}}},excalibur:e=>{"use strict";e.exports=t},jsdom:t=>{"use strict";if(void 0===e){var i=new Error("Cannot find module 'jsdom'");throw i.code="MODULE_NOT_FOUND",i}t.exports=e},"./node_modules/zod/lib/index.mjs":(e,t,i)=>{"use strict";var A,s;i.r(t),i.d(t,{BRAND:()=>Ne,DIRTY:()=>C,EMPTY_PATH:()=>p,INVALID:()=>m,NEVER:()=>bt,OK:()=>B,ParseStatus:()=>f,Schema:()=>N,ZodAny:()=>se,ZodArray:()=>ne,ZodBigInt:()=>X,ZodBoolean:()=>$,ZodBranded:()=>Fe,ZodCatch:()=>De,ZodDate:()=>ee,ZodDefault:()=>ke,ZodDiscriminatedUnion:()=>he,ZodEffects:()=>ve,ZodEnum:()=>we,ZodError:()=>l,ZodFirstPartyTypeKind:()=>Re,ZodFunction:()=>Be,ZodIntersection:()=>pe,ZodIssueCode:()=>o,ZodLazy:()=>Ee,ZodLiteral:()=>ye,ZodMap:()=>me,ZodNaN:()=>Le,ZodNativeEnum:()=>be,ZodNever:()=>ae,ZodNull:()=>Ae,ZodNullable:()=>Te,ZodNumber:()=>W,ZodObject:()=>de,ZodOptional:()=>xe,ZodParsedType:()=>r,ZodPipeline:()=>Se,ZodPromise:()=>_e,ZodReadonly:()=>Ge,ZodRecord:()=>fe,ZodSchema:()=>N,ZodSet:()=>Ce,ZodString:()=>K,ZodSymbol:()=>te,ZodTransformer:()=>ve,ZodTuple:()=>Ie,ZodType:()=>N,ZodUndefined:()=>ie,ZodUnion:()=>ce,ZodUnknown:()=>re,ZodVoid:()=>oe,addIssueToContext:()=>I,any:()=>Ve,array:()=>et,bigint:()=>Je,boolean:()=>qe,coerce:()=>wt,custom:()=>je,date:()=>Ze,datetimeRegex:()=>Y,default:()=>_t,defaultErrorMap:()=>d,discriminatedUnion:()=>st,effect:()=>It,enum:()=>ht,function:()=>dt,getErrorMap:()=>h,getParsedType:()=>a,instanceof:()=>Oe,intersection:()=>rt,isAborted:()=>E,isAsync:()=>w,isDirty:()=>y,isValid:()=>Q,late:()=>Me,lazy:()=>ct,literal:()=>gt,makeIssue:()=>u,map:()=>nt,nan:()=>Ue,nativeEnum:()=>ut,never:()=>Xe,null:()=>Ke,nullable:()=>mt,number:()=>Pe,object:()=>tt,objectUtil:()=>s,oboolean:()=>Qt,onumber:()=>yt,optional:()=>ft,ostring:()=>Et,pipeline:()=>Bt,preprocess:()=>Ct,promise:()=>pt,quotelessJson:()=>n,record:()=>ot,set:()=>lt,setErrorMap:()=>g,strictObject:()=>it,string:()=>ze,symbol:()=>He,transformer:()=>It,tuple:()=>at,undefined:()=>Ye,union:()=>At,unknown:()=>We,util:()=>A,void:()=>$e,z:()=>_t}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const i of e)t[i]=i;return t},e.getValidEnumValues=t=>{const i=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),A={};for(const e of i)A[e]=t[e];return e.objectValues(A)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t},e.find=(e,t)=>{for(const i of e)if(t(i))return i},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(A||(A={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(s||(s={}));const r=A.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),a=e=>{switch(typeof e){case"undefined":return r.undefined;case"string":return r.string;case"number":return isNaN(e)?r.nan:r.number;case"boolean":return r.boolean;case"function":return r.function;case"bigint":return r.bigint;case"symbol":return r.symbol;case"object":return Array.isArray(e)?r.array:null===e?r.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?r.promise:"undefined"!=typeof Map&&e instanceof Map?r.map:"undefined"!=typeof Set&&e instanceof Set?r.set:"undefined"!=typeof Date&&e instanceof Date?r.date:r.object;default:return r.unknown}},o=A.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),n=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class l extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},i={_errors:[]},A=e=>{for(const s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(A);else if("invalid_return_type"===s.code)A(s.returnTypeError);else if("invalid_arguments"===s.code)A(s.argumentsError);else if(0===s.path.length)i._errors.push(t(s));else{let e=i,A=0;for(;A<s.path.length;){const i=s.path[A];A===s.path.length-1?(e[i]=e[i]||{_errors:[]},e[i]._errors.push(t(s))):e[i]=e[i]||{_errors:[]},e=e[i],A++}}};return A(this),i}static assert(e){if(!(e instanceof l))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,A.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},i=[];for(const A of this.issues)A.path.length>0?(t[A.path[0]]=t[A.path[0]]||[],t[A.path[0]].push(e(A))):i.push(e(A));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}l.create=e=>new l(e);const d=(e,t)=>{let i;switch(e.code){case o.invalid_type:i=e.received===r.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case o.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,A.jsonStringifyReplacer)}`;break;case o.unrecognized_keys:i=`Unrecognized key(s) in object: ${A.joinValues(e.keys,", ")}`;break;case o.invalid_union:i="Invalid input";break;case o.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${A.joinValues(e.options)}`;break;case o.invalid_enum_value:i=`Invalid enum value. Expected ${A.joinValues(e.options)}, received '${e.received}'`;break;case o.invalid_arguments:i="Invalid function arguments";break;case o.invalid_return_type:i="Invalid function return type";break;case o.invalid_date:i="Invalid date";break;case o.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(i=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?i=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?i=`Invalid input: must end with "${e.validation.endsWith}"`:A.assertNever(e.validation):i="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case o.too_small:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case o.too_big:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case o.custom:i="Invalid input";break;case o.invalid_intersection_types:i="Intersection results could not be merged";break;case o.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case o.not_finite:i="Number must be finite";break;default:i=t.defaultError,A.assertNever(e)}return{message:i}};let c=d;function g(e){c=e}function h(){return c}const u=e=>{const{data:t,path:i,errorMaps:A,issueData:s}=e,r=[...i,...s.path||[]],a={...s,path:r};if(void 0!==s.message)return{...s,path:r,message:s.message};let o="";const n=A.filter((e=>!!e)).slice().reverse();for(const e of n)o=e(a,{data:t,defaultError:o}).message;return{...s,path:r,message:o}},p=[];function I(e,t){const i=h(),A=u({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,i,i===d?void 0:d].filter((e=>!!e))});e.common.issues.push(A)}class f{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const A of t){if("aborted"===A.status)return m;"dirty"===A.status&&e.dirty(),i.push(A.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const e of t){const t=await e.key,A=await e.value;i.push({key:t,value:A})}return f.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const A of t){const{key:t,value:s}=A;if("aborted"===t.status)return m;if("aborted"===s.status)return m;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===t.value||void 0===s.value&&!A.alwaysSet||(i[t.value]=s.value)}return{status:e.value,value:i}}}const m=Object.freeze({status:"aborted"}),C=e=>({status:"dirty",value:e}),B=e=>({status:"valid",value:e}),E=e=>"aborted"===e.status,y=e=>"dirty"===e.status,Q=e=>"valid"===e.status,w=e=>"undefined"!=typeof Promise&&e instanceof Promise;function b(e,t,i,A){if("a"===i&&!A)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!A:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?A:"a"===i?A.call(e):A?A.value:t.get(e)}function _(e,t,i,A,s){if("m"===A)throw new TypeError("Private method is not writable");if("a"===A&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===A?s.call(e,i):s?s.value=i:t.set(e,i),i}var v,x,T;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(v||(v={}));class k{constructor(e,t,i,A){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=A}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const D=(e,t)=>{if(Q(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new l(e.common.issues);return this._error=t,this._error}}};function L(e){if(!e)return{};const{errorMap:t,invalid_type_error:i,required_error:A,description:s}=e;if(t&&(i||A))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(t,s)=>{var r,a;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:s.defaultError}:void 0===s.data?{message:null!==(r=null!=o?o:A)&&void 0!==r?r:s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:null!==(a=null!=o?o:i)&&void 0!==a?a:s.defaultError}},description:s}}class N{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return a(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new f,ctx:{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(w(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;const A={common:{issues:[],async:null!==(i=null==t?void 0:t.async)&&void 0!==i&&i,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},s=this._parseSync({data:e,path:A.path,parent:A});return D(A,s)}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},A=this._parse({data:e,path:i.path,parent:i}),s=await(w(A)?A:Promise.resolve(A));return D(i,s)}refine(e,t){const i=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,A)=>{const s=e(t),r=()=>A.addIssue({code:o.custom,...i(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then((e=>!!e||(r(),!1))):!!s||(r(),!1)}))}refinement(e,t){return this._refinement(((i,A)=>!!e(i)||(A.addIssue("function"==typeof t?t(i,A):t),!1)))}_refinement(e){return new ve({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return xe.create(this,this._def)}nullable(){return Te.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ne.create(this,this._def)}promise(){return _e.create(this,this._def)}or(e){return ce.create([this,e],this._def)}and(e){return pe.create(this,e,this._def)}transform(e){return new ve({...L(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ke({...L(this._def),innerType:this,defaultValue:t,typeName:Re.ZodDefault})}brand(){return new Fe({typeName:Re.ZodBranded,type:this,...L(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new De({...L(this._def),innerType:this,catchValue:t,typeName:Re.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Se.create(this,e)}readonly(){return Ge.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const F=/^c[^\s-]{8,}$/i,S=/^[0-9a-z]+$/,G=/^[0-9A-HJKMNP-TV-Z]{26}$/,j=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,M=/^[a-z0-9_-]{21}$/i,R=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,O=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let z;const P=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,U=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,J=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,q="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Z=new RegExp(`^${q}$`);function H(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Y(e){let t=`${q}T${H(e)}`;const i=[];return i.push(e.local?"Z?":"Z"),e.offset&&i.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${i.join("|")})`,new RegExp(`^${t}$`)}class K extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==r.string){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.string,received:t.parsedType}),m}const t=new f;let i;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:o.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:o.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const A=e.data.length>r.value,s=e.data.length<r.value;(A||s)&&(i=this._getOrReturnCtx(e,i),A?I(i,{code:o.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):s&&I(i,{code:o.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)O.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"email",code:o.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)z||(z=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),z.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"emoji",code:o.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)j.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"uuid",code:o.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)M.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"nanoid",code:o.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)F.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"cuid",code:o.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)S.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"cuid2",code:o.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)G.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"ulid",code:o.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(A){i=this._getOrReturnCtx(e,i),I(i,{validation:"url",code:o.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"regex",code:o.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?Y(r).test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"date"===r.kind?Z.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:"date",message:r.message}),t.dirty()):"time"===r.kind?new RegExp(`^${H(r)}$`).test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{code:o.invalid_string,validation:"time",message:r.message}),t.dirty()):"duration"===r.kind?R.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"duration",code:o.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?(s=e.data,("v4"!==(a=r.version)&&a||!P.test(s))&&("v6"!==a&&a||!U.test(s))&&(i=this._getOrReturnCtx(e,i),I(i,{validation:"ip",code:o.invalid_string,message:r.message}),t.dirty())):"base64"===r.kind?J.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"base64",code:o.invalid_string,message:r.message}),t.dirty()):A.assertNever(r);var s,a;return{status:t.value,value:e.data}}_regex(e,t,i){return this.refinement((t=>e.test(t)),{validation:t,code:o.invalid_string,...v.errToObj(i)})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...v.errToObj(e)})}url(e){return this._addCheck({kind:"url",...v.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...v.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...v.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...v.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...v.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...v.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...v.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...v.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...v.errToObj(e)})}datetime(e){var t,i;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(i=null==e?void 0:e.local)&&void 0!==i&&i,...v.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...v.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...v.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...v.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...v.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...v.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...v.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...v.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...v.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...v.errToObj(t)})}nonempty(e){return this.min(1,v.errToObj(e))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function V(e,t){const i=(e.toString().split(".")[1]||"").length,A=(t.toString().split(".")[1]||"").length,s=i>A?i:A;return parseInt(e.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}K.create=e=>{var t;return new K({checks:[],typeName:Re.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...L(e)})};class W extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==r.number){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.number,received:t.parsedType}),m}let t;const i=new f;for(const s of this._def.checks)"int"===s.kind?A.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),I(t,{code:o.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):"min"===s.kind?(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):"max"===s.kind?(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):"multipleOf"===s.kind?0!==V(e.data,s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):"finite"===s.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),I(t,{code:o.not_finite,message:s.message}),i.dirty()):A.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,i,A){return new W({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:v.toString(A)}]})}_addCheck(e){return new W({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:v.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:v.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&A.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===t||i.value>t)&&(t=i.value):"max"===i.kind&&(null===e||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}W.create=e=>new W({checks:[],typeName:Re.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...L(e)});class X extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==r.bigint){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.bigint,received:t.parsedType}),m}let t;const i=new f;for(const s of this._def.checks)"min"===s.kind?(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):"max"===s.kind?(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):"multipleOf"===s.kind?e.data%s.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),I(t,{code:o.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):A.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,i,A){return new X({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:v.toString(A)}]})}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}X.create=e=>{var t;return new X({checks:[],typeName:Re.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...L(e)})};class $ extends N{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==r.boolean){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.boolean,received:t.parsedType}),m}return B(e.data)}}$.create=e=>new $({typeName:Re.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...L(e)});class ee extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==r.date){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.date,received:t.parsedType}),m}if(isNaN(e.data.getTime()))return I(this._getOrReturnCtx(e),{code:o.invalid_date}),m;const t=new f;let i;for(const s of this._def.checks)"min"===s.kind?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:o.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),t.dirty()):"max"===s.kind?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:o.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),t.dirty()):A.assertNever(s);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:v.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:v.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ee.create=e=>new ee({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Re.ZodDate,...L(e)});class te extends N{_parse(e){if(this._getType(e)!==r.symbol){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.symbol,received:t.parsedType}),m}return B(e.data)}}te.create=e=>new te({typeName:Re.ZodSymbol,...L(e)});class ie extends N{_parse(e){if(this._getType(e)!==r.undefined){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.undefined,received:t.parsedType}),m}return B(e.data)}}ie.create=e=>new ie({typeName:Re.ZodUndefined,...L(e)});class Ae extends N{_parse(e){if(this._getType(e)!==r.null){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.null,received:t.parsedType}),m}return B(e.data)}}Ae.create=e=>new Ae({typeName:Re.ZodNull,...L(e)});class se extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return B(e.data)}}se.create=e=>new se({typeName:Re.ZodAny,...L(e)});class re extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return B(e.data)}}re.create=e=>new re({typeName:Re.ZodUnknown,...L(e)});class ae extends N{_parse(e){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.never,received:t.parsedType}),m}}ae.create=e=>new ae({typeName:Re.ZodNever,...L(e)});class oe extends N{_parse(e){if(this._getType(e)!==r.undefined){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.void,received:t.parsedType}),m}return B(e.data)}}oe.create=e=>new oe({typeName:Re.ZodVoid,...L(e)});class ne extends N{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),A=this._def;if(t.parsedType!==r.array)return I(t,{code:o.invalid_type,expected:r.array,received:t.parsedType}),m;if(null!==A.exactLength){const e=t.data.length>A.exactLength.value,s=t.data.length<A.exactLength.value;(e||s)&&(I(t,{code:e?o.too_big:o.too_small,minimum:s?A.exactLength.value:void 0,maximum:e?A.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:A.exactLength.message}),i.dirty())}if(null!==A.minLength&&t.data.length<A.minLength.value&&(I(t,{code:o.too_small,minimum:A.minLength.value,type:"array",inclusive:!0,exact:!1,message:A.minLength.message}),i.dirty()),null!==A.maxLength&&t.data.length>A.maxLength.value&&(I(t,{code:o.too_big,maximum:A.maxLength.value,type:"array",inclusive:!0,exact:!1,message:A.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map(((e,i)=>A.type._parseAsync(new k(t,e,t.path,i))))).then((e=>f.mergeArray(i,e)));const s=[...t.data].map(((e,i)=>A.type._parseSync(new k(t,e,t.path,i))));return f.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new ne({...this._def,minLength:{value:e,message:v.toString(t)}})}max(e,t){return new ne({...this._def,maxLength:{value:e,message:v.toString(t)}})}length(e,t){return new ne({...this._def,exactLength:{value:e,message:v.toString(t)}})}nonempty(e){return this.min(1,e)}}function le(e){if(e instanceof de){const t={};for(const i in e.shape){const A=e.shape[i];t[i]=xe.create(le(A))}return new de({...e._def,shape:()=>t})}return e instanceof ne?new ne({...e._def,type:le(e.element)}):e instanceof xe?xe.create(le(e.unwrap())):e instanceof Te?Te.create(le(e.unwrap())):e instanceof Ie?Ie.create(e.items.map((e=>le(e)))):e}ne.create=(e,t)=>new ne({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...L(t)});class de extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=A.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==r.object){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.object,received:t.parsedType}),m}const{status:t,ctx:i}=this._processInputParams(e),{shape:A,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof ae&&"strip"===this._def.unknownKeys))for(const e in i.data)s.includes(e)||a.push(e);const n=[];for(const e of s){const t=A[e],s=i.data[e];n.push({key:{status:"valid",value:e},value:t._parse(new k(i,s,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof ae){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of a)n.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}});else if("strict"===e)a.length>0&&(I(i,{code:o.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const A=i.data[t];n.push({key:{status:"valid",value:t},value:e._parse(new k(i,A,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of n){const i=await t.key,A=await t.value;e.push({key:i,value:A,alwaysSet:t.alwaysSet})}return e})).then((e=>f.mergeObjectSync(t,e))):f.mergeObjectSync(t,n)}get shape(){return this._def.shape()}strict(e){return v.errToObj,new de({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,i)=>{var A,s,r,a;const o=null!==(r=null===(s=(A=this._def).errorMap)||void 0===s?void 0:s.call(A,t,i).message)&&void 0!==r?r:i.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=v.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new de({...this._def,unknownKeys:"strip"})}passthrough(){return new de({...this._def,unknownKeys:"passthrough"})}extend(e){return new de({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new de({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Re.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new de({...this._def,catchall:e})}pick(e){const t={};return A.objectKeys(e).forEach((i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])})),new de({...this._def,shape:()=>t})}omit(e){const t={};return A.objectKeys(this.shape).forEach((i=>{e[i]||(t[i]=this.shape[i])})),new de({...this._def,shape:()=>t})}deepPartial(){return le(this)}partial(e){const t={};return A.objectKeys(this.shape).forEach((i=>{const A=this.shape[i];e&&!e[i]?t[i]=A:t[i]=A.optional()})),new de({...this._def,shape:()=>t})}required(e){const t={};return A.objectKeys(this.shape).forEach((i=>{if(e&&!e[i])t[i]=this.shape[i];else{let e=this.shape[i];for(;e instanceof xe;)e=e._def.innerType;t[i]=e}})),new de({...this._def,shape:()=>t})}keyof(){return Qe(A.objectKeys(this.shape))}}de.create=(e,t)=>new de({shape:()=>e,unknownKeys:"strip",catchall:ae.create(),typeName:Re.ZodObject,...L(t)}),de.strictCreate=(e,t)=>new de({shape:()=>e,unknownKeys:"strict",catchall:ae.create(),typeName:Re.ZodObject,...L(t)}),de.lazycreate=(e,t)=>new de({shape:e,unknownKeys:"strip",catchall:ae.create(),typeName:Re.ZodObject,...L(t)});class ce extends N{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;if(t.common.async)return Promise.all(i.map((async e=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const i of e)if("dirty"===i.result.status)return t.common.issues.push(...i.ctx.common.issues),i.result;const i=e.map((e=>new l(e.ctx.common.issues)));return I(t,{code:o.invalid_union,unionErrors:i}),m}));{let e;const A=[];for(const s of i){const i={...t,common:{...t.common,issues:[]},parent:null},r=s._parseSync({data:t.data,path:t.path,parent:i});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:i}),i.common.issues.length&&A.push(i.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=A.map((e=>new l(e)));return I(t,{code:o.invalid_union,unionErrors:s}),m}}get options(){return this._def.options}}ce.create=(e,t)=>new ce({options:e,typeName:Re.ZodUnion,...L(t)});const ge=e=>e instanceof Ee?ge(e.schema):e instanceof ve?ge(e.innerType()):e instanceof ye?[e.value]:e instanceof we?e.options:e instanceof be?A.objectValues(e.enum):e instanceof ke?ge(e._def.innerType):e instanceof ie?[void 0]:e instanceof Ae?[null]:e instanceof xe?[void 0,...ge(e.unwrap())]:e instanceof Te?[null,...ge(e.unwrap())]:e instanceof Fe||e instanceof Ge?ge(e.unwrap()):e instanceof De?ge(e._def.innerType):[];class he extends N{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.object)return I(t,{code:o.invalid_type,expected:r.object,received:t.parsedType}),m;const i=this.discriminator,A=t.data[i],s=this.optionsMap.get(A);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(I(t,{code:o.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){const A=new Map;for(const i of t){const t=ge(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const s of t){if(A.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);A.set(s,i)}}return new he({typeName:Re.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:A,...L(i)})}}function ue(e,t){const i=a(e),s=a(t);if(e===t)return{valid:!0,data:e};if(i===r.object&&s===r.object){const i=A.objectKeys(t),s=A.objectKeys(e).filter((e=>-1!==i.indexOf(e))),r={...e,...t};for(const i of s){const A=ue(e[i],t[i]);if(!A.valid)return{valid:!1};r[i]=A.data}return{valid:!0,data:r}}if(i===r.array&&s===r.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let A=0;A<e.length;A++){const s=ue(e[A],t[A]);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}return i===r.date&&s===r.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class pe extends N{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),A=(e,A)=>{if(E(e)||E(A))return m;const s=ue(e.value,A.value);return s.valid?((y(e)||y(A))&&t.dirty(),{status:t.value,value:s.data}):(I(i,{code:o.invalid_intersection_types}),m)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then((([e,t])=>A(e,t))):A(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}pe.create=(e,t,i)=>new pe({left:e,right:t,typeName:Re.ZodIntersection,...L(i)});class Ie extends N{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.array)return I(i,{code:o.invalid_type,expected:r.array,received:i.parsedType}),m;if(i.data.length<this._def.items.length)return I(i,{code:o.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&i.data.length>this._def.items.length&&(I(i,{code:o.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const A=[...i.data].map(((e,t)=>{const A=this._def.items[t]||this._def.rest;return A?A._parse(new k(i,e,i.path,t)):null})).filter((e=>!!e));return i.common.async?Promise.all(A).then((e=>f.mergeArray(t,e))):f.mergeArray(t,A)}get items(){return this._def.items}rest(e){return new Ie({...this._def,rest:e})}}Ie.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ie({items:e,typeName:Re.ZodTuple,rest:null,...L(t)})};class fe extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.object)return I(i,{code:o.invalid_type,expected:r.object,received:i.parsedType}),m;const A=[],s=this._def.keyType,a=this._def.valueType;for(const e in i.data)A.push({key:s._parse(new k(i,e,i.path,e)),value:a._parse(new k(i,i.data[e],i.path,e)),alwaysSet:e in i.data});return i.common.async?f.mergeObjectAsync(t,A):f.mergeObjectSync(t,A)}get element(){return this._def.valueType}static create(e,t,i){return new fe(t instanceof N?{keyType:e,valueType:t,typeName:Re.ZodRecord,...L(i)}:{keyType:K.create(),valueType:e,typeName:Re.ZodRecord,...L(t)})}}class me extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.map)return I(i,{code:o.invalid_type,expected:r.map,received:i.parsedType}),m;const A=this._def.keyType,s=this._def.valueType,a=[...i.data.entries()].map((([e,t],r)=>({key:A._parse(new k(i,e,i.path,[r,"key"])),value:s._parse(new k(i,t,i.path,[r,"value"]))})));if(i.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const i of a){const A=await i.key,s=await i.value;if("aborted"===A.status||"aborted"===s.status)return m;"dirty"!==A.status&&"dirty"!==s.status||t.dirty(),e.set(A.value,s.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const i of a){const A=i.key,s=i.value;if("aborted"===A.status||"aborted"===s.status)return m;"dirty"!==A.status&&"dirty"!==s.status||t.dirty(),e.set(A.value,s.value)}return{status:t.value,value:e}}}}me.create=(e,t,i)=>new me({valueType:t,keyType:e,typeName:Re.ZodMap,...L(i)});class Ce extends N{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.set)return I(i,{code:o.invalid_type,expected:r.set,received:i.parsedType}),m;const A=this._def;null!==A.minSize&&i.data.size<A.minSize.value&&(I(i,{code:o.too_small,minimum:A.minSize.value,type:"set",inclusive:!0,exact:!1,message:A.minSize.message}),t.dirty()),null!==A.maxSize&&i.data.size>A.maxSize.value&&(I(i,{code:o.too_big,maximum:A.maxSize.value,type:"set",inclusive:!0,exact:!1,message:A.maxSize.message}),t.dirty());const s=this._def.valueType;function a(e){const i=new Set;for(const A of e){if("aborted"===A.status)return m;"dirty"===A.status&&t.dirty(),i.add(A.value)}return{status:t.value,value:i}}const n=[...i.data.values()].map(((e,t)=>s._parse(new k(i,e,i.path,t))));return i.common.async?Promise.all(n).then((e=>a(e))):a(n)}min(e,t){return new Ce({...this._def,minSize:{value:e,message:v.toString(t)}})}max(e,t){return new Ce({...this._def,maxSize:{value:e,message:v.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ce.create=(e,t)=>new Ce({valueType:e,minSize:null,maxSize:null,typeName:Re.ZodSet,...L(t)});class Be extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.function)return I(t,{code:o.invalid_type,expected:r.function,received:t.parsedType}),m;function i(e,i){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),d].filter((e=>!!e)),issueData:{code:o.invalid_arguments,argumentsError:i}})}function A(e,i){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),d].filter((e=>!!e)),issueData:{code:o.invalid_return_type,returnTypeError:i}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof _e){const e=this;return B((async function(...t){const r=new l([]),o=await e._def.args.parseAsync(t,s).catch((e=>{throw r.addIssue(i(t,e)),r})),n=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(n,s).catch((e=>{throw r.addIssue(A(n,e)),r}))}))}{const e=this;return B((function(...t){const r=e._def.args.safeParse(t,s);if(!r.success)throw new l([i(t,r.error)]);const o=Reflect.apply(a,this,r.data),n=e._def.returns.safeParse(o,s);if(!n.success)throw new l([A(o,n.error)]);return n.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Be({...this._def,args:Ie.create(e).rest(re.create())})}returns(e){return new Be({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new Be({args:e||Ie.create([]).rest(re.create()),returns:t||re.create(),typeName:Re.ZodFunction,...L(i)})}}class Ee extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ee.create=(e,t)=>new Ee({getter:e,typeName:Re.ZodLazy,...L(t)});class ye extends N{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return I(t,{received:t.data,code:o.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Qe(e,t){return new we({values:e,typeName:Re.ZodEnum,...L(t)})}ye.create=(e,t)=>new ye({value:e,typeName:Re.ZodLiteral,...L(t)});class we extends N{constructor(){super(...arguments),x.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),i=this._def.values;return I(t,{expected:A.joinValues(i),received:t.parsedType,code:o.invalid_type}),m}if(b(this,x,"f")||_(this,x,new Set(this._def.values),"f"),!b(this,x,"f").has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return I(t,{received:t.data,code:o.invalid_enum_value,options:i}),m}return B(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return we.create(e,{...this._def,...t})}exclude(e,t=this._def){return we.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}x=new WeakMap,we.create=Qe;class be extends N{constructor(){super(...arguments),T.set(this,void 0)}_parse(e){const t=A.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==r.string&&i.parsedType!==r.number){const e=A.objectValues(t);return I(i,{expected:A.joinValues(e),received:i.parsedType,code:o.invalid_type}),m}if(b(this,T,"f")||_(this,T,new Set(A.getValidEnumValues(this._def.values)),"f"),!b(this,T,"f").has(e.data)){const e=A.objectValues(t);return I(i,{received:i.data,code:o.invalid_enum_value,options:e}),m}return B(e.data)}get enum(){return this._def.values}}T=new WeakMap,be.create=(e,t)=>new be({values:e,typeName:Re.ZodNativeEnum,...L(t)});class _e extends N{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.promise&&!1===t.common.async)return I(t,{code:o.invalid_type,expected:r.promise,received:t.parsedType}),m;const i=t.parsedType===r.promise?t.data:Promise.resolve(t.data);return B(i.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}_e.create=(e,t)=>new _e({type:e,typeName:Re.ZodPromise,...L(t)});class ve extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),s=this._def.effect||null,r={addIssue:e=>{I(i,e),e.fatal?t.abort():t.dirty()},get path(){return i.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===s.type){const e=s.transform(i.data,r);if(i.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return m;const A=await this._def.schema._parseAsync({data:e,path:i.path,parent:i});return"aborted"===A.status?m:"dirty"===A.status||"dirty"===t.value?C(A.value):A}));{if("aborted"===t.value)return m;const A=this._def.schema._parseSync({data:e,path:i.path,parent:i});return"aborted"===A.status?m:"dirty"===A.status||"dirty"===t.value?C(A.value):A}}if("refinement"===s.type){const e=e=>{const t=s.refinement(e,r);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===i.common.async){const A=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===A.status?m:("dirty"===A.status&&t.dirty(),e(A.value),{status:t.value,value:A.value})}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((i=>"aborted"===i.status?m:("dirty"===i.status&&t.dirty(),e(i.value).then((()=>({status:t.value,value:i.value}))))))}if("transform"===s.type){if(!1===i.common.async){const e=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Q(e))return e;const A=s.transform(e.value,r);if(A instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:A}}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((e=>Q(e)?Promise.resolve(s.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}A.assertNever(s)}}ve.create=(e,t,i)=>new ve({schema:e,typeName:Re.ZodEffects,effect:t,...L(i)}),ve.createWithPreprocess=(e,t,i)=>new ve({schema:t,effect:{type:"preprocess",transform:e},typeName:Re.ZodEffects,...L(i)});class xe extends N{_parse(e){return this._getType(e)===r.undefined?B(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xe.create=(e,t)=>new xe({innerType:e,typeName:Re.ZodOptional,...L(t)});class Te extends N{_parse(e){return this._getType(e)===r.null?B(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Te.create=(e,t)=>new Te({innerType:e,typeName:Re.ZodNullable,...L(t)});class ke extends N{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===r.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ke.create=(e,t)=>new ke({innerType:e,typeName:Re.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...L(t)});class De extends N{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},A=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return w(A)?A.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new l(i.common.issues)},input:i.data})}))):{status:"valid",value:"valid"===A.status?A.value:this._def.catchValue({get error(){return new l(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}De.create=(e,t)=>new De({innerType:e,typeName:Re.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...L(t)});class Le extends N{_parse(e){if(this._getType(e)!==r.nan){const t=this._getOrReturnCtx(e);return I(t,{code:o.invalid_type,expected:r.nan,received:t.parsedType}),m}return{status:"valid",value:e.data}}}Le.create=e=>new Le({typeName:Re.ZodNaN,...L(e)});const Ne=Symbol("zod_brand");class Fe extends N{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class Se extends N{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),C(e.value)):this._def.out._parseAsync({data:e.value,path:i.path,parent:i})})();{const e=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:i.path,parent:i})}}static create(e,t){return new Se({in:e,out:t,typeName:Re.ZodPipeline})}}class Ge extends N{_parse(e){const t=this._def.innerType._parse(e),i=e=>(Q(e)&&(e.value=Object.freeze(e.value)),e);return w(t)?t.then((e=>i(e))):i(t)}unwrap(){return this._def.innerType}}function je(e,t={},i){return e?se.create().superRefine(((A,s)=>{var r,a;if(!e(A)){const e="function"==typeof t?t(A):"string"==typeof t?{message:t}:t,o=null===(a=null!==(r=e.fatal)&&void 0!==r?r:i)||void 0===a||a,n="string"==typeof e?{message:e}:e;s.addIssue({code:"custom",...n,fatal:o})}})):se.create()}Ge.create=(e,t)=>new Ge({innerType:e,typeName:Re.ZodReadonly,...L(t)});const Me={object:de.lazycreate};var Re;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Re||(Re={}));const Oe=(e,t={message:`Input not instance of ${e.name}`})=>je((t=>t instanceof e),t),ze=K.create,Pe=W.create,Ue=Le.create,Je=X.create,qe=$.create,Ze=ee.create,He=te.create,Ye=ie.create,Ke=Ae.create,Ve=se.create,We=re.create,Xe=ae.create,$e=oe.create,et=ne.create,tt=de.create,it=de.strictCreate,At=ce.create,st=he.create,rt=pe.create,at=Ie.create,ot=fe.create,nt=me.create,lt=Ce.create,dt=Be.create,ct=Ee.create,gt=ye.create,ht=we.create,ut=be.create,pt=_e.create,It=ve.create,ft=xe.create,mt=Te.create,Ct=ve.createWithPreprocess,Bt=Se.create,Et=()=>ze().optional(),yt=()=>Pe().optional(),Qt=()=>qe().optional(),wt={string:e=>K.create({...e,coerce:!0}),number:e=>W.create({...e,coerce:!0}),boolean:e=>$.create({...e,coerce:!0}),bigint:e=>X.create({...e,coerce:!0}),date:e=>ee.create({...e,coerce:!0})},bt=m;var _t=Object.freeze({__proto__:null,defaultErrorMap:d,setErrorMap:g,getErrorMap:h,makeIssue:u,EMPTY_PATH:p,addIssueToContext:I,ParseStatus:f,INVALID:m,DIRTY:C,OK:B,isAborted:E,isDirty:y,isValid:Q,isAsync:w,get util(){return A},get objectUtil(){return s},ZodParsedType:r,getParsedType:a,ZodType:N,datetimeRegex:Y,ZodString:K,ZodNumber:W,ZodBigInt:X,ZodBoolean:$,ZodDate:ee,ZodSymbol:te,ZodUndefined:ie,ZodNull:Ae,ZodAny:se,ZodUnknown:re,ZodNever:ae,ZodVoid:oe,ZodArray:ne,ZodObject:de,ZodUnion:ce,ZodDiscriminatedUnion:he,ZodIntersection:pe,ZodTuple:Ie,ZodRecord:fe,ZodMap:me,ZodSet:Ce,ZodFunction:Be,ZodLazy:Ee,ZodLiteral:ye,ZodEnum:we,ZodNativeEnum:be,ZodPromise:_e,ZodEffects:ve,ZodTransformer:ve,ZodOptional:xe,ZodNullable:Te,ZodDefault:ke,ZodCatch:De,ZodNaN:Le,BRAND:Ne,ZodBranded:Fe,ZodPipeline:Se,ZodReadonly:Ge,custom:je,Schema:N,ZodSchema:N,late:Me,get ZodFirstPartyTypeKind(){return Re},coerce:wt,any:Ve,array:et,bigint:Je,boolean:qe,date:Ze,discriminatedUnion:st,effect:It,enum:ht,function:dt,instanceof:Oe,intersection:rt,lazy:ct,literal:gt,map:nt,nan:Ue,nativeEnum:ut,never:Xe,null:Ke,nullable:mt,number:Pe,object:tt,oboolean:Qt,onumber:yt,optional:ft,ostring:Et,pipeline:Bt,preprocess:Ct,promise:pt,record:ot,set:lt,strictObject:it,string:ze,symbol:He,transformer:It,tuple:at,undefined:Ye,union:At,unknown:We,void:$e,NEVER:bt,ZodIssueCode:o,quotelessJson:n,ZodError:l})},"./node_modules/zstddec/dist/zstddec.modern.js":(e,t,i)=>{"use strict";let A,s,r;i.r(t),i.d(t,{ZSTDDecoder:()=>o});const a={env:{emscripten_notify_memory_growth:function(e){r=new Uint8Array(s.exports.memory.buffer)}}};class o{init(){return A||(A=fetch("data:application/wasm;base64,"+n).then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,a))).then(this._init),A)}_init(e){s=e.instance,a.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!s)throw new Error("ZSTDDecoder: Await .init() before decoding.");const i=e.byteLength,A=s.exports.malloc(i);r.set(e,A),t=t||Number(s.exports.ZSTD_findDecompressedSize(A,i));const a=s.exports.malloc(t),o=s.exports.ZSTD_decompress(a,t,A,i),n=r.slice(a,a+o);return s.exports.free(A),s.exports.free(a),n}}const n="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ"}},A={};function s(e){var t=A[e];if(void 0!==t)return t.exports;var r=A[e]={exports:{}};return i[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";s.r(r),s.d(r,{Decoder:()=>t.Decoder,Deprecated:()=>C,Ellipse:()=>l.Ellipse,ExcaliburTiledProperties:()=>i.ExcaliburTiledProperties,FLIPPED_DIAGONALLY_FLAG:()=>o.FLIPPED_DIAGONALLY_FLAG,FLIPPED_HORIZONTALLY_FLAG:()=>o.FLIPPED_HORIZONTALLY_FLAG,FLIPPED_VERTICALLY_FLAG:()=>o.FLIPPED_VERTICALLY_FLAG,FetchLoader:()=>A.FetchLoader,InsertedTile:()=>l.InsertedTile,LoaderCache:()=>n.LoaderCache,PluginObject:()=>l.PluginObject,Point:()=>l.Point,Polygon:()=>l.Polygon,Polyline:()=>l.Polyline,Rectangle:()=>l.Rectangle,Template:()=>h.Template,TemplateObject:()=>l.TemplateObject,TemplateResource:()=>g.TemplateResource,Text:()=>l.Text,Tile:()=>m.Tile,TiledDataComponent:()=>u.TiledDataComponent,TiledLayerDataComponent:()=>p.TiledLayerDataComponent,TiledMap:()=>e.TiledMap,TiledParser:()=>e.TiledParser,TiledResource:()=>I.TiledResource,TiledTemplate:()=>e.TiledTemplate,TiledText:()=>e.TiledText,TiledTile:()=>e.TiledTile,TiledTileLayer:()=>e.TiledTileLayer,TiledTileLayerInfinite:()=>e.TiledTileLayerInfinite,TiledTileset:()=>e.TiledTileset,TiledTilesetFile:()=>e.TiledTilesetFile,Tileset:()=>m.Tileset,TilesetResource:()=>f.TilesetResource,byClassCaseInsensitive:()=>a.byClassCaseInsensitive,byNameCaseInsensitive:()=>a.byNameCaseInsensitive,byPropertyCaseInsensitive:()=>a.byPropertyCaseInsensitive,filenameFromPath:()=>d.filenameFromPath,getCanonicalGid:()=>o.getCanonicalGid,isCSV:()=>e.isCSV,isFlippedDiagonally:()=>o.isFlippedDiagonally,isFlippedHorizontally:()=>o.isFlippedHorizontally,isFlippedVertically:()=>o.isFlippedVertically,isInfiniteLayer:()=>e.isInfiniteLayer,isTiledTilesetCollectionOfImages:()=>e.isTiledTilesetCollectionOfImages,isTiledTilesetEmbedded:()=>e.isTiledTilesetEmbedded,isTiledTilesetExternal:()=>e.isTiledTilesetExternal,isTiledTilesetSingleImage:()=>e.isTiledTilesetSingleImage,mapPath:()=>d.mapPath,mapProps:()=>c.mapProps,needsDecoding:()=>e.needsDecoding,parseObject:()=>l.parseObject,parseObjects:()=>l.parseObjects,pathInMap:()=>d.pathInMap,pathRelativeToBase:()=>d.pathRelativeToBase});var e=s("./src/parser/tiled-parser.ts"),t=s("./src/resource/decoder.ts"),i=s("./src/resource/excalibur-properties.ts"),A=s("./src/resource/file-loader.ts"),a=s("./src/resource/filter-util.ts"),o=s("./src/resource/gid-util.ts"),n=(s("./src/resource/layer.ts"),s("./src/resource/loader-cache.ts")),l=s("./src/resource/objects.ts"),d=s("./src/resource/path-util.ts"),c=s("./src/resource/properties.ts"),g=s("./src/resource/template-resource.ts"),h=s("./src/resource/template.ts"),u=s("./src/resource/tiled-data-component.ts"),p=s("./src/resource/tiled-layer-component.ts"),I=s("./src/resource/tiled-resource.ts"),f=s("./src/resource/tileset-resource.ts"),m=s("./src/resource/tileset.ts"),C=s("./src/deprecated.ts")})(),r})()));
//# sourceMappingURL=excalibur-tiled.js.map